



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="è¯—å²¸æ¢¦è¡ŒèˆŸ" href="https://735690757.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="è¯—å²¸æ¢¦è¡ŒèˆŸ" href="https://735690757.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="è¯—å²¸æ¢¦è¡ŒèˆŸ" href="https://735690757.github.io/feed.json" />
<link rel="stylesheet" href="https://unpkg.com/mermaid/dist/mermaid.min.css">
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
<script>mermaid.initialize({ startOnLoad: true });</script>

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  
  <meta name="keywords" content="python,æ·±åº¦å­¦ä¹ ,CNN" />


<link rel="canonical" href="https://735690757.github.io/python/CNN_Acc/">



  <title>
CNNç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜ - æ·±åº¦å­¦ä¹ åŸºç¡€ - æ·±åº¦å­¦ä¹  |
KarryLiu = è¯—å²¸æ¢¦è¡ŒèˆŸ = åˆ†äº«è®¡ç®—æœºçŸ¥è¯†ä»¥åŠå„ç§å¿ƒå¾—æ€»ç»“</title>
<meta name="generator" content="Hexo 6.3.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">CNNç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜
  </h1>
  
<div class="meta">
  <span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2025-10-02 12:12:12">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">å‘è¡¨äº</span>
    <time itemprop="dateCreated datePublished" datetime="2025-10-02T12:12:12+08:00">2025-10-02</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">KarryLiu</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
          <img src="/images/cover/cnn.jpg">
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i>
<span  itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/python/" itemprop="item" rel="index" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ "><span itemprop="name">æ·±åº¦å­¦ä¹ </span></a>
<meta itemprop="position" content="1" /></span>
<i class="ic i-angle-right"></i>
<span  class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/python/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" itemprop="item" rel="index" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ åŸºç¡€"><span itemprop="name">æ·±åº¦å­¦ä¹ åŸºç¡€</span></a>
<meta itemprop="position" content="2" /></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="https://735690757.github.io/python/CNN_Acc/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/tx.jpg">
    <meta itemprop="name" content="KarryLiu">
    <meta itemprop="description" content="åˆ†äº«è®¡ç®—æœºçŸ¥è¯†ä»¥åŠå„ç§å¿ƒå¾—æ€»ç»“, æ„¿ä¸–é—´æ‰€æœ‰çš„ç¾å¥½éƒ½å¾—ä»¥ç¥æ„¿">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="è¯—å²¸æ¢¦è¡ŒèˆŸ">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h1 id="å·ç§¯ç¥ç»ç½‘ç»œ"><a class="markdownIt-Anchor" href="#å·ç§¯ç¥ç»ç½‘ç»œ"></a> å·ç§¯ç¥ç»ç½‘ç»œ</h1>
<p>å­¦ä¹ å†…å®¹åŸºäºï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL0JWMWUzNHkxTTd3Ug==">Pytorchæ¡†æ¶ä¸ç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜</span></p>
<h2 id="cnnå·ç§¯ç¥ç»ç½‘ç»œç®—æ³•åŸç†"><a class="markdownIt-Anchor" href="#cnnå·ç§¯ç¥ç»ç½‘ç»œç®—æ³•åŸç†"></a> CNNå·ç§¯ç¥ç»ç½‘ç»œç®—æ³•åŸç†</h2>
<h3 id="å…¨è¿æ¥ç¥ç»ç½‘ç»œ"><a class="markdownIt-Anchor" href="#å…¨è¿æ¥ç¥ç»ç½‘ç»œ"></a> å…¨è¿æ¥ç¥ç»ç½‘ç»œ</h3>
<img data-src="../../images/CNN_Acc/1.png" alt="1" style="zoom:50%;" />
<p>è¾“å…¥å±‚æ˜¯æˆ‘ä»¬è¾“å…¥çš„æ•°æ®ï¼Œè¿™é‡Œçœ‹åˆ°çš„ç¬¬ä¸€åˆ—èŠ‚ç‚¹å¹¶ä¸æ˜¯è¾“å…¥å±‚ï¼Œä¸­é—´ä¸ºéšè—å±‚ã€‚</p>
<p>è¾“å…¥å±‚å°±åƒXï¼ˆè‡ªå˜é‡ï¼‰ï¼Œæ¨¡å‹æˆ–è€…è¯´è¿™äº›ç½‘ç»œå°±æ˜¯Fï¼ˆå‡½æ•°ï¼‰ï¼Œæˆ‘ä»¬å¾—åˆ°çš„è¾“å‡ºå°±æ˜¯Yï¼ˆå› å˜é‡ï¼‰ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¿€æ´»å‡½æ•°"></a> ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¿€æ´»å‡½æ•°</h3>
<p>åœ¨ç¥ç»ç½‘ç»œä¸­ä½¿ç”¨æ¿€æ´»å‡½æ•°çš„æ ¹æœ¬åŸå› æ˜¯å¼•å…¥éçº¿æ€§ï¼Œä»è€Œä½¿æ¨¡å‹èƒ½å¤Ÿæ‹Ÿåˆå’Œè¡¨è¾¾å¤æ‚çš„å‡½æ•°å…³ç³»ã€‚å¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œç¥ç»ç½‘ç»œæ— è®ºå †å å¤šå°‘å±‚ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€ä¸ªçº¿æ€§æ¨¡å‹ï¼Œèƒ½åŠ›æå…¶æœ‰é™ã€‚å¤šå±‚çº¿æ€§å˜æ¢çš„å åŠ ä¾ç„¶æ˜¯çº¿æ€§å˜æ¢ï¼Œæœ€ç»ˆçš„æ¨¡å‹åªèƒ½æ‹Ÿåˆç›´çº¿/å¹³é¢ï¼Œå®Œå…¨æ— æ³•å¤„ç†å¤æ‚çš„æ•°æ®æ¨¡å¼</p>
<h3 id="sigmoidæ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#sigmoidæ¿€æ´»å‡½æ•°"></a> Sigmoidæ¿€æ´»å‡½æ•°</h3>
<img data-src="../../images/CNN_Acc/2.png" alt="1"  />
<p><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ã€éå¸¸é€‚ç”¨åˆ†ç±»ä»»åŠ¡ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šåå‘ä¼ æ’­è®­ç»ƒæ—¶æœ‰æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼›è¾“å‡ºå€¼åŒºé—´ä¸º(0,1)ï¼Œå…³äº0ä¸å¯¹ç§°ï¼›æ¢¯åº¦æ›´æ–°åœ¨ä¸åŒæ–¹å‘èµ°å¾—å¤ªè¿œï¼Œä½¿å¾—ä¼˜åŒ–éš¾åº¦å¢å¤§ï¼Œè®­ç»ƒè€—æ—¶ã€‚</p>
<h3 id="tanhæ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#tanhæ¿€æ´»å‡½æ•°"></a> Tanhæ¿€æ´»å‡½æ•°</h3>
<img data-src="../../images/CNN_Acc/3.png" alt="1"  />
<p><strong>ä¼˜ç‚¹</strong>ï¼šè§£å†³äº†Sigmoidå‡½æ•°è¾“å‡ºå€¼é0å¯¹ç§°çš„é—®é¢˜ï¼Œè®­ç»ƒæ¯”Sigmoidå‡½æ•°å¿«ï¼Œæ›´å®¹æ˜“æ”¶æ•›</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šåå‘ä¼ æ’­è®­ç»ƒæ—¶æœ‰æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼ŒTanhå‡½æ•°å’ŒSigmoidå‡½æ•°éå¸¸ç›¸ä¼¼ã€‚</p>
<h3 id="reluæ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#reluæ¿€æ´»å‡½æ•°"></a> ReLUæ¿€æ´»å‡½æ•°</h3>
<img data-src="../../images/CNN_Acc/4.png" alt="1"  />
<p><strong>ä¼˜ç‚¹</strong>ï¼šè§£å†³äº†æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ï¼›è®¡ç®—æ›´ä¸ºç®€å•ï¼Œæ²¡æœ‰Sigmoidå‡½æ•°å’ŒTanhå‡½æ•°çš„æŒ‡æ•°è¿ç®—</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šè®­ç»ƒæ—¶å¯èƒ½å‡ºç°ç¥ç»å…ƒæ­»äº¡</p>
<h3 id="leaky-reluæ¿€æ´»å‡½æ•°"><a class="markdownIt-Anchor" href="#leaky-reluæ¿€æ´»å‡½æ•°"></a> Leaky ReLUæ¿€æ´»å‡½æ•°</h3>
<img data-src="../../images/CNN_Acc/5.png" alt="1"  />
<p><strong>ä¼˜ç‚¹</strong>ï¼šè§£å†³äº†ReLUçš„ç¥ç»å…ƒæ­»äº¡é—®é¢˜</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šæ— æ³•ä¸ºæ­£è´Ÿè¾“å…¥å€¼æä¾›ä¸€è‡´çš„å…³ç³»é¢„æµ‹(ä¸åŒåŒºé—´å‡½æ•°ä¸åŒ)</p>
<h3 id="å‰å‘ä¼ æ’­"><a class="markdownIt-Anchor" href="#å‰å‘ä¼ æ’­"></a> å‰å‘ä¼ æ’­</h3>
<p>å‰å‘ä¼ æ’­æ˜¯ç¥ç»ç½‘ç»œä¸­æ•°æ®ä»è¾“å…¥å±‚ä¾æ¬¡æµå‘è¾“å‡ºå±‚çš„è¿‡ç¨‹ï¼Œå®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯æ ¹æ®å½“å‰çš„æ¨¡å‹å‚æ•°ï¼ˆæƒé‡å’Œåç½®ï¼‰è®¡ç®—å‡ºé¢„æµ‹ç»“æœã€‚</p>
<p>å‰å‘ä¼ æ’­å°±æ˜¯â€œæŠŠè¾“å…¥æ•°æ®ä¾æ¬¡å–‚ç»™æ¯ä¸€å±‚ï¼Œç»è¿‡çº¿æ€§è®¡ç®— + æ¿€æ´»å‡½æ•°ï¼Œé€å±‚è¾“å‡ºï¼Œæœ€åå¾—åˆ°é¢„æµ‹å€¼â€çš„è¿‡ç¨‹ã€‚</p>
<h3 id="æŸå¤±å‡½æ•°"><a class="markdownIt-Anchor" href="#æŸå¤±å‡½æ•°"></a> æŸå¤±å‡½æ•°</h3>
<h4 id="å‡æ–¹è¯¯å·®"><a class="markdownIt-Anchor" href="#å‡æ–¹è¯¯å·®"></a> å‡æ–¹è¯¯å·®</h4>
<table>
<thead>
<tr>
<th><img data-src="../../images/CNN_Acc/6.png" alt="1"  /></th>
<th><img data-src="../../images/CNN_Acc/7.png" alt="1"  /></th>
</tr>
</thead>
</table>
<p>å‰é¢æœ‰å¯èƒ½æœ‰å‡ºç°1/2ï¼Œé‚£åªæ˜¯ä¸ºäº†æ–¹ä¾¿æ±‚å¯¼ï¼Œéƒ½æ˜¯å‡æ–¹è¯¯å·®ã€‚</p>
<h3 id="æ¢¯åº¦ä¸‹é™æ³•"><a class="markdownIt-Anchor" href="#æ¢¯åº¦ä¸‹é™æ³•"></a> æ¢¯åº¦ä¸‹é™æ³•</h3>
<img data-src="../../images/CNN_Acc/8.png" alt="1"  />
<img data-src="../../images/CNN_Acc/9.png" alt="1"  />
<h2 id="å…¨è¿æ¥ç¥ç»ç½‘ç»œåœ¨å›¾ç‰‡ä¸­å­˜åœ¨çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å…¨è¿æ¥ç¥ç»ç½‘ç»œåœ¨å›¾ç‰‡ä¸­å­˜åœ¨çš„é—®é¢˜"></a> å…¨è¿æ¥ç¥ç»ç½‘ç»œåœ¨å›¾ç‰‡ä¸­å­˜åœ¨çš„é—®é¢˜</h2>
<h3 id="1-å‚æ•°é‡å·¨å¤§"><a class="markdownIt-Anchor" href="#1-å‚æ•°é‡å·¨å¤§"></a> 1. <strong>å‚æ•°é‡å·¨å¤§</strong></h3>
<ul>
<li>å…¨è¿æ¥å±‚çš„æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½ä¸ä¸Šä¸€å±‚çš„æ‰€æœ‰ç¥ç»å…ƒç›¸è¿ã€‚</li>
<li>å¯¹äºå›¾ç‰‡æ¥è¯´ï¼Œè¾“å…¥é€šå¸¸æ˜¯é«˜ç»´çš„ï¼Œä¾‹å¦‚ä¸€å¼  224Ã—224 çš„ RGB å›¾ç‰‡å°±æ˜¯ 224Ã—224Ã—3 = 150,528 ä¸ªè¾“å…¥ç‰¹å¾ã€‚</li>
<li>å‡è®¾ç¬¬ä¸€å±‚æœ‰ 1000 ä¸ªç¥ç»å…ƒï¼Œé‚£ä¹ˆæƒé‡æ•°é‡å°±æ˜¯ 150,528 Ã— 1000 â‰ˆ 1.5 äº¿ä¸ªå‚æ•°ï¼</li>
<li><strong>é—®é¢˜</strong>ï¼šå‚æ•°å¤ªå¤š â†’ å®¹æ˜“è¿‡æ‹Ÿåˆ â†’ è®­ç»ƒæ—¶é—´é•¿ â†’ éœ€è¦å¤§é‡æ˜¾å­˜ã€‚</li>
</ul>
<hr />
<h3 id="2-å¿½ç•¥ç©ºé—´ç»“æ„"><a class="markdownIt-Anchor" href="#2-å¿½ç•¥ç©ºé—´ç»“æ„"></a> 2. <strong>å¿½ç•¥ç©ºé—´ç»“æ„</strong></h3>
<ul>
<li>å›¾ç‰‡æ˜¯äºŒç»´æˆ–ä¸‰ç»´ï¼ˆRGBï¼‰çš„ç½‘æ ¼æ•°æ®ï¼Œæœ‰å±€éƒ¨ç©ºé—´ç›¸å…³æ€§ï¼ˆé‚»è¿‘åƒç´ å¾€å¾€ç›¸å…³ï¼‰ã€‚</li>
<li>å…¨è¿æ¥å±‚æŠŠå›¾ç‰‡â€œæ‹‰å¹³â€æˆä¸€ç»´å‘é‡ï¼Œç„¶åå†è¿›è¡ŒçŸ©é˜µä¹˜æ³•ã€‚</li>
<li><strong>é—®é¢˜</strong>ï¼šä¸¢å¤±äº†å›¾ç‰‡çš„ç©ºé—´ä¿¡æ¯ï¼ˆå¦‚è¾¹ç¼˜ã€çº¹ç†ã€å½¢çŠ¶ï¼‰ï¼Œæ— æ³•æœ‰æ•ˆæ•æ‰å±€éƒ¨ç‰¹å¾ã€‚</li>
</ul>
<hr />
<h3 id="3-ç¼ºä¹å¹³ç§»ä¸å˜æ€§"><a class="markdownIt-Anchor" href="#3-ç¼ºä¹å¹³ç§»ä¸å˜æ€§"></a> 3. <strong>ç¼ºä¹å¹³ç§»ä¸å˜æ€§</strong></h3>
<ul>
<li>å›¾åƒä¸­ç‰©ä½“çš„ä½ç½®å¯èƒ½å˜åŒ–ã€‚</li>
<li>å…¨è¿æ¥ç½‘ç»œå¯¹è¾“å…¥çš„æ¯ä¸ªä½ç½®éƒ½å›ºå®šï¼Œç‰©ä½“ç¨å¾®ç§»åŠ¨ï¼Œè¾“å‡ºå¯èƒ½å®Œå…¨ä¸åŒã€‚</li>
<li><strong>é—®é¢˜</strong>ï¼šæ— æ³•è‡ªåŠ¨è¯†åˆ«å›¾åƒä¸­çš„å¹³ç§»æˆ–å±€éƒ¨ä½ç§»ï¼Œæ³›åŒ–èƒ½åŠ›å·®ã€‚</li>
</ul>
<hr />
<h3 id="4-è®¡ç®—æ•ˆç‡ä½"><a class="markdownIt-Anchor" href="#4-è®¡ç®—æ•ˆç‡ä½"></a> 4. <strong>è®¡ç®—æ•ˆç‡ä½</strong></h3>
<ul>
<li>å…¨è¿æ¥å±‚è®¡ç®—å¤æ‚åº¦é«˜ï¼ˆçŸ©é˜µä¹˜æ³•é‡å¤§ï¼‰ã€‚</li>
<li>å¯¹é«˜åˆ†è¾¨ç‡å›¾åƒï¼Œè®­ç»ƒå’Œæ¨ç†é€Ÿåº¦éƒ½å¾ˆæ…¢ã€‚</li>
<li>å¯¹æ¯”å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ï¼Œåè€…é€šè¿‡å·ç§¯æ ¸å…±äº«æƒé‡å¤§å¹…å‡å°‘è®¡ç®—é‡ã€‚</li>
</ul>
<hr />
<h3 id="5-ä¸é€‚åˆæ•æ‰å±‚æ¬¡ç‰¹å¾"><a class="markdownIt-Anchor" href="#5-ä¸é€‚åˆæ•æ‰å±‚æ¬¡ç‰¹å¾"></a> 5. <strong>ä¸é€‚åˆæ•æ‰å±‚æ¬¡ç‰¹å¾</strong></h3>
<ul>
<li>å›¾ç‰‡çš„ç‰¹å¾æ˜¯æœ‰å±‚æ¬¡ç»“æ„çš„ï¼šè¾¹ç¼˜ â†’ çº¹ç† â†’ å½¢çŠ¶ â†’ å¯¹è±¡ã€‚</li>
<li>å…¨è¿æ¥å±‚ä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰åƒç´ ï¼Œæ— æ³•è‡ªç„¶å­¦ä¹ å±‚æ¬¡ç‰¹å¾ã€‚</li>
<li>CNN åˆ™é€šè¿‡å·ç§¯å’Œæ± åŒ–å±‚é€æ­¥æŠ½è±¡ç‰¹å¾ï¼Œæ›´ç¬¦åˆè§†è§‰è®¤çŸ¥è§„å¾‹ã€‚</li>
</ul>
<h2 id="å·ç§¯-æ­¥å¹…-å¡«å……-æ± åŒ–"><a class="markdownIt-Anchor" href="#å·ç§¯-æ­¥å¹…-å¡«å……-æ± åŒ–"></a> å·ç§¯ã€æ­¥å¹…ã€å¡«å……ã€æ± åŒ–</h2>
<p>è¿™éƒ¨åˆ†è¯·çœ‹ï¼š</p>
<div class="links"><div class="item" title="PyTorchæ·±åº¦å­¦ä¹ convolution å·ç§¯æ“ä½œ" style="--block-color:#ed7a8b;"><a href="https://735690757.github.io/python/pytorch" class="image" data-background-image="https://735690757.github.io/images/pytorch/8.png"></a>
          <div class="info">
          <a href="https://735690757.github.io/python/pytorch" class="title">PyTorchæ·±åº¦å­¦ä¹ convolution å·ç§¯æ“ä½œ</a>
          <p class="desc">https://735690757.github.io/python/pytorch</p>
          </div></div></div>
<h2 id="ç»è¿‡å·ç§¯åç‰¹å¾å›¾å¤§å°"><a class="markdownIt-Anchor" href="#ç»è¿‡å·ç§¯åç‰¹å¾å›¾å¤§å°"></a> ç»è¿‡å·ç§¯åç‰¹å¾å›¾å¤§å°</h2>
<img data-src="../../images/CNN_Acc/11.png" alt="1"  />
<p><strong>FH</strong>ï¼šå·ç§¯æ ¸ï¼ˆfilterï¼‰çš„é«˜åº¦ï¼ˆFilter Heightï¼‰</p>
<p><strong>FW</strong>ï¼šå·ç§¯æ ¸çš„å®½åº¦ï¼ˆFilter Widthï¼‰</p>
<p><strong>C_in</strong>ï¼šè¾“å…¥é€šé“æ•°ï¼ˆInput Channelsï¼‰</p>
<p><strong>C_out</strong>ï¼šè¾“å‡ºé€šé“æ•°ï¼ˆOutput Channelsï¼‰</p>
<p><strong>S</strong>ï¼šæ­¥å¹…ï¼ˆStrideï¼‰</p>
<p><strong>P</strong>ï¼šå¡«å……ï¼ˆPaddingï¼‰</p>
<p>å¦‚æœç®—å‡ºæ¥æ˜¯å°æ•°ï¼Œä¸€èˆ¬æ˜¯å‘ä¸‹å–æ•´ã€‚</p>
<h2 id="lenetä¸alexnetåŸç†"><a class="markdownIt-Anchor" href="#lenetä¸alexnetåŸç†"></a> LeNetä¸AlexNetåŸç†</h2>
<h3 id="lenet-5è¯ç”ŸèƒŒæ™¯"><a class="markdownIt-Anchor" href="#lenet-5è¯ç”ŸèƒŒæ™¯"></a> LeNet-5è¯ç”ŸèƒŒæ™¯</h3>
<p>ç®€å•æ¥è¯´ï¼ŒLeNet-5çš„è¯ç”ŸèƒŒæ™¯æ˜¯ä¸ºäº†è§£å†³æ‰‹å†™æ•°å­—è¯†åˆ«è¿™ä¸€å®é™…åº”ç”¨é—®é¢˜ï¼Œå®ƒæ˜¯ä¸–ç•Œä¸Šé¦–ä¸ªæˆåŠŸå•†ç”¨çš„å·ç§¯ç¥ç»ç½‘ç»œï¼Œå¥ å®šäº†ç°ä»£æ·±åº¦å­¦ä¹ çš„åŸºç¡€ã€‚</p>
<h3 id="lenet-5ç½‘ç»œç»“æ„"><a class="markdownIt-Anchor" href="#lenet-5ç½‘ç»œç»“æ„"></a> LeNet-5ç½‘ç»œç»“æ„</h3>
<img data-src="../../images/CNN_Acc/12.png" alt="1"  />
<ol>
<li>è¾“å…¥1 * 28 * 28</li>
<li>5 * 5 å·ç§¯ï¼ˆ6ï¼‰ï¼Œå¡«å……2</li>
<li>2 * 2 å¹³å‡æ± åŒ–å±‚ï¼Œæ­¥å¹…2</li>
<li>5 * 5 å·ç§¯ï¼ˆ16ï¼‰ï¼Œå¡«å……0</li>
<li>2 * 2 å¹³å‡æ± åŒ–å±‚ï¼Œæ­¥å¹…2</li>
<li>å…¨è¿æ¥ï¼ˆ120ï¼‰</li>
<li>å…¨è¿æ¥ï¼ˆ84ï¼‰</li>
<li>å…¨è¿æ¥ï¼ˆ10ï¼‰</li>
</ol>
<hr />
<p><strong>å†å¼ºè°ƒä¸€ä¸‹ï¼š</strong></p>
<img data-src="../../images/CNN_Acc/11.png" alt="1"  />
<p><strong>è¿™ä¸ªè®¡ç®—å…¬å¼éå¸¸é‡è¦ã€‚</strong></p>
<hr />
<h3 id="alexnetè¯ç”ŸèƒŒæ™¯"><a class="markdownIt-Anchor" href="#alexnetè¯ç”ŸèƒŒæ™¯"></a> AlexNetè¯ç”ŸèƒŒæ™¯</h3>
<p>åœ¨ç®—åŠ›è¾¾åˆ°ä¸´ç•Œç‚¹ã€å¤§æ•°æ®å·²ç»å°±ä½çš„ç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªå¤è€ä½†æ›¾è¢«å¿½è§†çš„ç®—æ³•ï¼ˆæ·±åº¦å­¦ä¹ /å·ç§¯ç¥ç»ç½‘ç»œï¼‰è¿æ¥äº†è¯æ˜è‡ªå·±çš„æœ€ä½³æ—¶æœºã€‚AlexNetä¸ä»…ä»…æ˜¯ä¸€ä¸ªä¼˜ç§€çš„æ¨¡å‹ï¼Œå®ƒæ›´æ˜¯ä¸€ä¸ªæ—¶ä»£çš„å¼€åˆ›è€…ï¼Œæ˜¯äººå·¥æ™ºèƒ½å‘å±•å²ä¸Šçš„ä¸€ä¸ªå…³é”®è½¬æŠ˜ç‚¹ã€‚</p>
<h3 id="alexnetç½‘ç»œç»“æ„"><a class="markdownIt-Anchor" href="#alexnetç½‘ç»œç»“æ„"></a> AlexNetç½‘ç»œç»“æ„</h3>
<img data-src="../../images/CNN_Acc/13.png" alt="1"  />
<p>5å±‚å·ç§¯ï¼Œ3å±‚å…¨è¿æ¥ï¼Œå…±8å±‚ï¼Œæ¿€æ´»å‡½æ•°ä½¿ç”¨ReLUã€‚</p>
<ol>
<li>è¾“å…¥3 * 227 * 227ï¼ˆï¼Ÿè¿™ä¸ªå¯èƒ½æœ‰é—®é¢˜ï¼‰</li>
<li>11 * 11 å·ç§¯ï¼ˆ96ï¼‰ï¼Œæ­¥å¹…4ï¼ŒReLU</li>
<li>3 * 3 æœ€å¤§æ± åŒ–ï¼Œæ­¥å¹…2</li>
<li>5 * 5 å·ç§¯ï¼ˆ256ï¼‰ï¼Œå¡«å……2ï¼ŒReLU</li>
<li>3 * 3æœ€å¤§æ± åŒ–ï¼Œæ­¥å¹…2</li>
<li>3 * 3 å·ç§¯ï¼ˆ384ï¼‰ï¼Œå¡«å……1ï¼ŒReLU</li>
<li>3 * 3 å·ç§¯ï¼ˆ384ï¼‰ï¼Œå¡«å……1ï¼ŒReLU</li>
<li>3 * 3 å·ç§¯ï¼ˆ256ï¼‰ï¼Œå¡«å……1ï¼ŒReLU</li>
<li>3 * 3æœ€å¤§æ± åŒ–ï¼Œæ­¥å¹…2</li>
<li>å…¨è¿æ¥ï¼ˆ4096ï¼‰</li>
<li>å…¨è¿æ¥ï¼ˆ4096ï¼‰</li>
<li>å…¨è¿æ¥ï¼ˆ10ï¼‰</li>
</ol>
<p>è¿™é‡Œåœ¨å…¨è¿æ¥å±‚æœ‰å¾ˆå¤šçš„å‚æ•°ï¼Œå‚æ•°å¤ªå¤šå®¹æ˜“è¿‡æ‹Ÿåˆï¼Œæˆ‘ä»¬å¼•å…¥äº†Dropoutæ“ä½œã€‚</p>
<h3 id="å›¾åƒå¢å¼º-æ°´å¹³ç¿»è½¬"><a class="markdownIt-Anchor" href="#å›¾åƒå¢å¼º-æ°´å¹³ç¿»è½¬"></a> å›¾åƒå¢å¼º - æ°´å¹³ç¿»è½¬</h3>
<img data-src="../../images/CNN_Acc/14.png" alt="1"  />
<h3 id="å›¾åƒå¢å¼º-éšæœºè£å‰ª"><a class="markdownIt-Anchor" href="#å›¾åƒå¢å¼º-éšæœºè£å‰ª"></a> å›¾åƒå¢å¼º - éšæœºè£å‰ª</h3>
<img data-src="../../images/CNN_Acc/15.png" alt="1"  />
<h3 id="å›¾åƒå¢å¼º-pca"><a class="markdownIt-Anchor" href="#å›¾åƒå¢å¼º-pca"></a> å›¾åƒå¢å¼º - PCA</h3>
<img data-src="../../images/CNN_Acc/16.png" alt="1"  />
<table>
<thead>
<tr>
<th style="text-align:left">æ–¹é¢</th>
<th style="text-align:left">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>æ ¸å¿ƒæ€æƒ³</strong></td>
<td style="text-align:left">åˆ©ç”¨PCAæ‰¾åˆ°å›¾åƒé¢œè‰²çš„ä¸»è¦å˜åŒ–æ–¹å‘ï¼Œå¹¶æ²¿è¿™äº›æ–¹å‘æ·»åŠ éšæœºæ‰°åŠ¨æ¥æ¨¡æ‹Ÿå…‰ç…§å˜åŒ–ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><strong>ç›®çš„</strong></td>
<td style="text-align:left">å¢å¼ºæ¨¡å‹å¯¹é¢œè‰²å’Œå…‰ç…§å˜åŒ–çš„é²æ£’æ€§ï¼Œæ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®å¢å¼ºæ‰‹æ®µã€‚</td>
</tr>
<tr>
<td style="text-align:left"><strong>ä¼˜ç‚¹</strong></td>
<td style="text-align:left">å˜åŒ–æ–¹å¼åŸºäºå›¾åƒè‡ªèº«çš„ç»Ÿè®¡ç‰¹æ€§ï¼Œç”Ÿæˆçš„å›¾åƒé¢œè‰²å˜åŒ–è‡ªç„¶ã€åˆç†ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><strong>ç¼ºç‚¹</strong></td>
<td style="text-align:left">è®¡ç®—æˆæœ¬ç›¸å¯¹è¾ƒé«˜ï¼ˆéœ€è¦å¯¹æ¯å¼ å›¾æˆ–æ¯æ‰¹å›¾åšPCAï¼‰ã€‚</td>
</tr>
<tr>
<td style="text-align:left"><strong>é—äº§</strong></td>
<td style="text-align:left">æ˜¯AlexNetçš„ä¸€ä¸ªåˆ›æ–°ç‚¹ï¼Œå¯å‘äº†å¯¹é¢œè‰²å¢å¼ºçš„é‡è§†ï¼Œä½†å·²è¢«æ›´ç®€å•é«˜æ•ˆçš„æ–¹æ³•æ‰€å–ä»£ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="lrnæ­£åˆ™åŒ–"><a class="markdownIt-Anchor" href="#lrnæ­£åˆ™åŒ–"></a> LRNæ­£åˆ™åŒ–</h3>
<p>è¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹é€šé“é—´çš„è®¡ç®—</p>
<img data-src="../../images/CNN_Acc/17.png" alt="1"  />
<p>å°½ç®¡LRNæ˜¯AlexNetçš„ä¸€ä¸ªå…³é”®åˆ›æ–°ï¼Œä½†åœ¨åç»­æ›´æ·±ã€æ›´å…ˆè¿›çš„ç½‘ç»œï¼ˆå¦‚VGGã€ResNetï¼‰ä¸­ï¼Œå®ƒ<strong>å‡ ä¹è¢«å®Œå…¨å¼ƒç”¨</strong>äº†ã€‚ä¸»è¦åŸå› å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ•ˆæœæœ‰é™ä¸”ä¸ç¨³å®š</strong>ï¼šåç»­ç ”ç©¶å‘ç°ï¼ŒLRNå¸¦æ¥çš„æ€§èƒ½æå‡éå¸¸å¾®å¼±ï¼Œç”šè‡³æœ‰æ—¶ä¸ç¨³å®šã€‚å…¶æ­£åˆ™åŒ–æ•ˆæœè¿œä¸å¦‚<strong>Dropout</strong>å’Œ<strong>Batch Normalizationï¼ˆBNï¼‰</strong> é‚£æ ·æ˜¾è‘—å’Œå¯é ã€‚</li>
<li><strong>è¢«æ›´å¥½çš„æŠ€æœ¯å–ä»£</strong>ï¼š
<ul>
<li><strong>Dropout</strong>ï¼šé€šè¿‡éšæœºæ–­å¼€ç¥ç»å…ƒè¿æ¥æ¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œæ›´ä¸ºç›´æ¥æœ‰æ•ˆã€‚</li>
<li><strong>Batch Normalizationï¼ˆæ‰¹å½’ä¸€åŒ–ï¼‰</strong>ï¼šè¿™æ˜¯é©å‘½æ€§çš„æŠ€æœ¯ã€‚BNå¯¹æ•´ä¸ªBatchçš„æ¯ä¸ªé€šé“è¿›è¡Œå½’ä¸€åŒ–ï¼ˆå‡å€¼ä¸º0ï¼Œæ–¹å·®ä¸º1ï¼‰ï¼Œ<strong>æå¤§åœ°æ”¹å–„äº†æ¢¯åº¦æµåŠ¨ï¼ŒåŠ é€Ÿäº†è®­ç»ƒï¼ŒåŒæ—¶æœ¬èº«ä¹Ÿå…·æœ‰è½»å¾®çš„æ­£åˆ™åŒ–æ•ˆæœ</strong>ã€‚BNçš„æ•ˆæœè¿œè¶…LRNï¼Œå¹¶ä¸”å·²ç»æˆä¸ºç°ä»£æ·±åº¦ç½‘ç»œçš„æ ‡å‡†ç»„ä»¶ã€‚</li>
</ul>
</li>
<li><strong>å¢åŠ è®¡ç®—å¼€é”€å’Œè¶…å‚æ•°</strong>ï¼šLRNå¼•å…¥äº†é¢å¤–çš„è®¡ç®—é‡ï¼Œå¹¶ä¸” <code>k, Î±, Î², n</code> è¿™äº›è¶…å‚æ•°éœ€è¦è°ƒä¼˜ï¼Œå¢åŠ äº†æ¨¡å‹è®¾è®¡çš„å¤æ‚æ€§ã€‚</li>
</ol>
<h3 id="é‡å æ± åŒ–"><a class="markdownIt-Anchor" href="#é‡å æ± åŒ–"></a> é‡å æ± åŒ–</h3>
<p>ä¸LRNç±»ä¼¼ï¼Œé‡å æ± åŒ–åœ¨ç°ä»£æ·±åº¦å­¦ä¹ æ¶æ„ä¸­<strong>ä¹Ÿå·²ç»ä¸å¸¸ç”¨äº†</strong>ã€‚</p>
<ul>
<li><strong>è®¡ç®—æˆæœ¬æ›´é«˜</strong>ï¼šç”±äºå­˜åœ¨é‡å ï¼Œä¸ºäº†å¾—åˆ°ç›¸åŒå°ºå¯¸çš„è¾“å‡ºç‰¹å¾å›¾ï¼Œé‡å æ± åŒ–éœ€è¦è¿›è¡Œæ›´å¤šæ¬¡æ± åŒ–æ“ä½œã€‚ä¾‹å¦‚ï¼Œå°† <code>5x5</code> é™é‡‡æ ·åˆ° <code>2x2</code>ï¼Œéé‡å æ± åŒ– (<code>2x2</code>, stride=2) éœ€è¦4æ¬¡æ“ä½œï¼Œè€Œé‡å æ± åŒ– (<code>3x3</code>, stride=2) ä¹Ÿéœ€è¦4æ¬¡æ“ä½œï¼Œä½†æ¯æ¬¡æ“ä½œçš„çª—å£æ›´å¤§ï¼Œè®¡ç®—é‡ç¨é«˜ã€‚</li>
<li><strong>è¢«æ›´æœ‰æ•ˆçš„æŠ€æœ¯å–ä»£</strong>ï¼šå¦‚ä»Šï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆå’Œæå‡æ€§èƒ½çš„é‡ä»»æ›´å¤šåœ°ç”± <strong>Batch Normalization</strong>ã€<strong>æ›´æ·±çš„ç½‘ç»œç»“æ„</strong>ï¼ˆå¦‚ResNetçš„æ®‹å·®è¿æ¥ï¼‰ã€<strong>æ›´å…ˆè¿›çš„ä¼˜åŒ–å™¨</strong> å’Œ <strong>Dropout</strong> ç­‰æ–¹æ³•æ¥æ‰¿æ‹…ã€‚</li>
<li><strong>è®¾è®¡è¶‹åŠ¿å˜åŒ–</strong>ï¼šç°ä»£ç½‘ç»œæœ‰æ—¶ç”šè‡³ä¼š<strong>å®Œå…¨æ‘’å¼ƒæ± åŒ–å±‚</strong>ï¼Œè½¬è€Œä½¿ç”¨<strong>æ­¥é•¿å¤§äº1çš„å·ç§¯ï¼ˆStrided Convolutionï¼‰</strong> æ¥åŒæ—¶å®ç°ç‰¹å¾æå–å’Œé™é‡‡æ ·ï¼Œè¿™è¢«è®¤ä¸ºèƒ½æä¾›æ›´å¤§çš„æ¨¡å‹å®¹é‡å’Œçµæ´»æ€§ã€‚</li>
</ul>
<h2 id="lenetå®æˆ˜"><a class="markdownIt-Anchor" href="#lenetå®æˆ˜"></a> LeNetå®æˆ˜</h2>
<h3 id="æ¨¡å‹"><a class="markdownIt-Anchor" href="#æ¨¡å‹"></a> æ¨¡å‹</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LeNet</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, *args, **kwargs</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-built_in">super</span>().__init__(*args, **kwargs)
        self.block = nn.Sequential(
            nn.Conv2d(in_channels=<span class="hljs-number">1</span>, out_channels=<span class="hljs-number">6</span>, kernel_size=<span class="hljs-number">5</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">2</span>),
            nn.Sigmoid(),
            nn.AvgPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>),
            nn.Conv2d(in_channels=<span class="hljs-number">6</span>, out_channels=<span class="hljs-number">16</span>, kernel_size=<span class="hljs-number">5</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">0</span>),
            nn.Sigmoid(),
            nn.AvgPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>),
            nn.Flatten(),
            nn.Linear(in_features=<span class="hljs-number">400</span>, out_features=<span class="hljs-number">120</span>),
            nn.Sigmoid(),
            nn.Linear(in_features=<span class="hljs-number">120</span>, out_features=<span class="hljs-number">84</span>),
            nn.Sigmoid(),
            nn.Linear(in_features=<span class="hljs-number">84</span>, out_features=<span class="hljs-number">10</span>)
        )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        <span class="hljs-keyword">return</span> self.block(x)
</code></pre>
<h3 id="è®¾å¤‡-å®ä¾‹åŒ–ä¸summary"><a class="markdownIt-Anchor" href="#è®¾å¤‡-å®ä¾‹åŒ–ä¸summary"></a> è®¾å¤‡ã€å®ä¾‹åŒ–ä¸summary</h3>
<pre class="highlight"><code class="python">device = torch.device(<span class="hljs-string">&quot;cuda&quot;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span>)
net = LeNet().to(device)
summary(net, (<span class="hljs-number">1</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>))
</code></pre>
<img data-src="../../images/CNN_Acc/18.png" alt="1"  />
<p>è¿™é‡Œçš„ -1 ä»£è¡¨çš„æ˜¯ æ‰¹é‡å¤§å°ï¼Œæ›´å…·ä½“åœ°è¯´ï¼š-1 æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œè¡¨ç¤ºè¿™ä¸ªç»´åº¦çš„å¤§å°æ˜¯ç”±å…¶ä»–ç»´åº¦æ¨æ–­å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå›ºå®šå€¼ã€‚</p>
<p>æ‰¹é‡å¤§å°ï¼šåœ¨æ·±åº¦å­¦ä¹ è®­ç»ƒä¸­ï¼Œæ•°æ®é€šå¸¸æ˜¯æŒ‰æ‰¹æ¬¡ï¼ˆbatchï¼‰è¾“å…¥çš„ã€‚æ¯”å¦‚ï¼Œä½ å¯èƒ½ä¼šä¸€æ¬¡è¾“å…¥ 32 å¼ å›¾ç‰‡ã€64 å¼ å›¾ç‰‡ç­‰ã€‚è¿™ä¸ªæ•°é‡å°±æ˜¯æ‰¹é‡å¤§å°ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ˜¯ -1ï¼Ÿï¼šPyTorch æ¨¡å‹åœ¨è®¾è®¡æ—¶ï¼Œå…¶æ ¸å¿ƒè®¡ç®—é€»è¾‘ä¸ä¾èµ–äºå…·ä½“çš„æ‰¹é‡å¤§å°ã€‚ä¸ºäº†å¢åŠ çµæ´»æ€§ï¼Œåœ¨å®šä¹‰æ¨¡å‹çš„å‰å‘ä¼ æ’­æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å°†è¾“å…¥å¼ é‡çš„ç¬¬ä¸€ä¸ªç»´åº¦è®¾ä¸ºæ‰¹é‡å¤§å°ã€‚å½“æ‰“å°æ¨¡å‹æ‘˜è¦æ—¶ï¼Œåº“ï¼ˆå¦‚ torchsummaryï¼‰æ— æ³•é¢„å…ˆçŸ¥é“ä½ ä¼šç”¨å¤šå¤§çš„æ‰¹é‡å¤§å°æ¥è®­ç»ƒï¼Œæ‰€ä»¥å®ƒä½¿ç”¨ -1 æ¥ä»£è¡¨â€œä»»ä½•å°ºå¯¸â€ã€‚</p>
<p>åŠ¨æ€æ¨æ–­ï¼šåœ¨å®é™…è¿è¡Œä¸­ï¼Œè¿™ä¸ª -1 ä¼šè¢«ä½ è¾“å…¥æ•°æ®çš„çœŸå®æ‰¹é‡å¤§å°æ‰€æ›¿ä»£ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ ç”¨ä¸€æ‰¹ 32 å¼ å›¾ç‰‡è¾“å…¥åˆ°æ¨¡å‹ï¼Œé‚£ä¹ˆ [-1, 1, 32, 32] å°±ä¼šå˜æˆ [32, 1, 32, 32]ã€‚</p>
<p>å¦‚æœä½ ç”¨ 128 å¼ å›¾ç‰‡ï¼Œå®ƒå°±ä¼šå˜æˆ [128, 1, 32, 32]ã€‚</p>
<h3 id="åŠ è½½-fashionmnist"><a class="markdownIt-Anchor" href="#åŠ è½½-fashionmnist"></a> åŠ è½½ FashionMNIST</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">from</span> torchvision.datasets <span class="hljs-keyword">import</span> FashionMNIST
<span class="hljs-keyword">from</span> torchvision.transforms <span class="hljs-keyword">import</span> transforms
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
</code></pre>
<pre class="highlight"><code class="python">transform = transforms.Compose([
    transforms.Resize((<span class="hljs-number">28</span>, <span class="hljs-number">28</span>)),
    transforms.ToTensor(),
    transforms.Normalize((<span class="hljs-number">0.5</span>,), (<span class="hljs-number">0.5</span>,))
])
train_data = FashionMNIST(root=<span class="hljs-string">&quot;./data/FashionMNIST&quot;</span>, train=<span class="hljs-literal">True</span>, download=<span class="hljs-literal">True</span>, transform=transform)
test_data = FashionMNIST(root=<span class="hljs-string">&quot;./data/FashionMNIST&quot;</span>, train=<span class="hljs-literal">False</span>, download=<span class="hljs-literal">True</span>, transform=transform)
</code></pre>
<pre class="highlight"><code class="python"><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> DataLoader

train_dataLoader = DataLoader(train_data, batch_size=<span class="hljs-number">64</span>, shuffle=<span class="hljs-literal">True</span>)
test_dataLoader = DataLoader(test_data, batch_size=<span class="hljs-number">64</span>, shuffle=<span class="hljs-literal">False</span>)
</code></pre>
<h3 id="å±•ç¤º"><a class="markdownIt-Anchor" href="#å±•ç¤º"></a> å±•ç¤º</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

<span class="hljs-keyword">for</span> setp, (features, label) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(train_dataLoader):
    <span class="hljs-keyword">if</span> setp == <span class="hljs-number">0</span>:
        x = features.squeeze().numpy()
        y = label.numpy()
        <span class="hljs-keyword">break</span>
plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>))
<span class="hljs-keyword">for</span> ii <span class="hljs-keyword">in</span> np.arange(<span class="hljs-built_in">len</span>(y)):
    plt.subplot(<span class="hljs-number">4</span>, <span class="hljs-number">16</span>, ii+<span class="hljs-number">1</span>)
    plt.imshow(x[ii,:,:], cmap=plt.cm.gray)
    plt.title(y[ii])
    plt.axis(<span class="hljs-string">&quot;off&quot;</span>)
plt.show()
</code></pre>
<img data-src="../../images/CNN_Acc/19.png" alt="1"  />
<h3 id="è®­ç»ƒ-éªŒè¯æ­¤å¤„ä¸ºæœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#è®­ç»ƒ-éªŒè¯æ­¤å¤„ä¸ºæœ€ä½³å®è·µ"></a> è®­ç»ƒã€éªŒè¯ï¼ˆæ­¤å¤„ä¸ºæœ€ä½³å®è·µï¼‰</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">from</span> torch.optim.lr_scheduler <span class="hljs-keyword">import</span> CosineAnnealingLR
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm
<span class="hljs-keyword">import</span> copy
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd


<span class="hljs-keyword">def</span> <span class="hljs-title function_">train_model_process</span>(<span class="hljs-params">model, train_dataloader, val_dataloader, num_epochs</span>):
    device = torch.device(<span class="hljs-string">&quot;cuda&quot;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span>)
    optimizer = torch.optim.Adam(model.parameters(), lr=<span class="hljs-number">0.001</span>)
    scheduler = CosineAnnealingLR(
        optimizer,
        T_max=num_epochs,
        eta_min=<span class="hljs-number">1e-6</span>
    )
    criterion = nn.CrossEntropyLoss().to(device)
    model = model.to(device)
    best_model_wts = copy.deepcopy(model.state_dict())

    best_acc = <span class="hljs-number">0.0</span>
    train_loss_all = []
    val_loss_all = []
    train_acc_all = []
    val_acc_all = []
    learning_rates = []
    since = time.time()

    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_epochs):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Epoch &#123;&#125;/&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(epoch, num_epochs - <span class="hljs-number">1</span>))
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span> * <span class="hljs-number">10</span>)

        current_lr = optimizer.param_groups[<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;lr&#x27;</span>]
        learning_rates.append(current_lr)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰å­¦ä¹ ç‡: <span class="hljs-subst">&#123;current_lr:<span class="hljs-number">.6</span>f&#125;</span>&quot;</span>)

        train_loss = <span class="hljs-number">0.0</span>
        train_corrects = <span class="hljs-number">0</span>
        val_loss = <span class="hljs-number">0.0</span>
        val_corrects = <span class="hljs-number">0</span>
        train_num = <span class="hljs-number">0</span>
        val_num = <span class="hljs-number">0</span>

        <span class="hljs-keyword">for</span> step, (b_x, b_y) <span class="hljs-keyword">in</span> tqdm(<span class="hljs-built_in">enumerate</span>(train_dataloader), desc=<span class="hljs-string">f&quot;æ€»æ­¥éª¤ï¼š<span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(train_dataloader)&#125;</span>&quot;</span>,
                                     leave=<span class="hljs-literal">False</span>, unit=<span class="hljs-string">&quot;step&quot;</span>, total=<span class="hljs-built_in">len</span>(train_dataloader),
                                     bar_format=<span class="hljs-string">&quot;&#123;desc&#125;: |&#123;bar:30&#125;| &#123;percentage:3.0f&#125;% å”±è·³RapğŸ€ï¼ŒMusic~&quot;</span>,
                                     <span class="hljs-built_in">ascii</span>=<span class="hljs-string">&quot;ğŸ€ğŸ¥°ğŸ¥°ğŸ˜˜&quot;</span>):
            b_x = b_x.to(device)
            b_y = b_y.to(device)
            model.train()
            output = model(b_x)
            pre_lab = torch.argmax(output, dim=<span class="hljs-number">1</span>)
            loss = criterion(output, b_y)

            optimizer.zero_grad()
            loss.backward()
            optimizer.step()
            train_loss += loss.item() * b_x.size(<span class="hljs-number">0</span>)
            <span class="hljs-comment"># å¦‚æœé¢„æµ‹æ­£ç¡®ï¼Œåˆ™å‡†ç¡®åº¦train_correctsåŠ 1</span>
            train_corrects += torch.<span class="hljs-built_in">sum</span>(pre_lab == b_y.data)
            train_num += b_x.size(<span class="hljs-number">0</span>)
        <span class="hljs-keyword">for</span> step, (b_x, b_y) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(val_dataloader):
            b_x = b_x.to(device)
            b_y = b_y.to(device)
            model.<span class="hljs-built_in">eval</span>()
            output = model(b_x)
            pre_lab = torch.argmax(output, dim=<span class="hljs-number">1</span>)
            loss = criterion(output, b_y)

            val_loss += loss.item() * b_x.size(<span class="hljs-number">0</span>)
            val_corrects += torch.<span class="hljs-built_in">sum</span>(pre_lab == b_y.data)
            val_num += b_x.size(<span class="hljs-number">0</span>)

        train_loss_all.append(train_loss / train_num)
        train_acc_all.append(train_corrects.double().item() / train_num)

        val_loss_all.append(val_loss / val_num)
        val_acc_all.append(val_corrects.double().item() / val_num)

        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125; train loss:&#123;:.4f&#125; train acc: &#123;:.4f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(epoch, train_loss_all[-<span class="hljs-number">1</span>], train_acc_all[-<span class="hljs-number">1</span>]))
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125; val loss:&#123;:.4f&#125; val acc: &#123;:.4f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(epoch, val_loss_all[-<span class="hljs-number">1</span>], val_acc_all[-<span class="hljs-number">1</span>]))

        <span class="hljs-keyword">if</span> val_acc_all[-<span class="hljs-number">1</span>] &gt; best_acc:
            best_acc = val_acc_all[-<span class="hljs-number">1</span>]
            best_model_wts = copy.deepcopy(model.state_dict())

        time_use = time.time() - since
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è®­ç»ƒå’ŒéªŒè¯è€—è´¹çš„æ—¶é—´&#123;:.0f&#125;m&#123;:.0f&#125;s&quot;</span>.<span class="hljs-built_in">format</span>(time_use // <span class="hljs-number">60</span>, time_use % <span class="hljs-number">60</span>))
        scheduler.step()

    model.load_state_dict(best_model_wts)
    torch.save(best_model_wts, <span class="hljs-string">&quot;models/best_model.pth&quot;</span>)

    train_process = pd.DataFrame(data=&#123;<span class="hljs-string">&quot;epoch&quot;</span>: <span class="hljs-built_in">range</span>(num_epochs),
                                       <span class="hljs-string">&quot;train_loss_all&quot;</span>: train_loss_all,
                                       <span class="hljs-string">&quot;val_loss_all&quot;</span>: val_loss_all,
                                       <span class="hljs-string">&quot;train_acc_all&quot;</span>: train_acc_all,
                                       <span class="hljs-string">&quot;val_acc_all&quot;</span>: val_acc_all,
                                       <span class="hljs-string">&quot;learn_rates&quot;</span>: learning_rates&#125;)

    <span class="hljs-keyword">return</span> train_process
</code></pre>
<pre class="highlight"><code class="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">matplot_acc_loss</span>(<span class="hljs-params">train_process</span>):
    <span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸€æ¬¡è¿­ä»£åçš„è®­ç»ƒé›†å’ŒéªŒè¯é›†çš„æŸå¤±å‡½æ•°å’Œå‡†ç¡®ç‡</span>
    plt.figure(figsize=(<span class="hljs-number">12</span>, <span class="hljs-number">4</span>))
    plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>)
    plt.plot(train_process[<span class="hljs-string">&#x27;epoch&#x27;</span>], train_process.train_loss_all, <span class="hljs-string">&quot;ro-&quot;</span>, label=<span class="hljs-string">&quot;Train loss&quot;</span>)
    plt.plot(train_process[<span class="hljs-string">&#x27;epoch&#x27;</span>], train_process.val_loss_all, <span class="hljs-string">&quot;bs-&quot;</span>, label=<span class="hljs-string">&quot;Val loss&quot;</span>)
    plt.legend()
    plt.xlabel(<span class="hljs-string">&quot;epoch&quot;</span>)
    plt.ylabel(<span class="hljs-string">&quot;Loss&quot;</span>)
    plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>)
    plt.plot(train_process[<span class="hljs-string">&#x27;epoch&#x27;</span>], train_process.train_acc_all, <span class="hljs-string">&quot;ro-&quot;</span>, label=<span class="hljs-string">&quot;Train acc&quot;</span>)
    plt.plot(train_process[<span class="hljs-string">&#x27;epoch&#x27;</span>], train_process.val_acc_all, <span class="hljs-string">&quot;bs-&quot;</span>, label=<span class="hljs-string">&quot;Val acc&quot;</span>)
    plt.xlabel(<span class="hljs-string">&quot;epoch&quot;</span>)
    plt.ylabel(<span class="hljs-string">&quot;acc&quot;</span>)
    plt.legend()
    plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>)
    plt.plot(train_process[<span class="hljs-string">&#x27;epoch&#x27;</span>], train_process.learn_rates, <span class="hljs-string">&quot;go-&quot;</span>, label=<span class="hljs-string">&quot;Learn rates&quot;</span>)
    plt.xlabel(<span class="hljs-string">&quot;epoch&quot;</span>)
    plt.ylabel(<span class="hljs-string">&quot;Learn rates&quot;</span>)
    plt.legend()
    plt.tight_layout()
    plt.show()
</code></pre>
<h3 id="è¿™é‡Œæ˜¯ä¼˜åŒ–åçš„ç‰ˆæœ¬"><a class="markdownIt-Anchor" href="#è¿™é‡Œæ˜¯ä¼˜åŒ–åçš„ç‰ˆæœ¬"></a> è¿™é‡Œæ˜¯ä¼˜åŒ–åçš„ç‰ˆæœ¬</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">from</span> torch.optim <span class="hljs-keyword">import</span> lr_scheduler
<span class="hljs-keyword">import</span> copy
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-keyword">def</span> <span class="hljs-title function_">train_model_process</span>(<span class="hljs-params">model, train_dataloader, val_dataloader, num_epochs</span>):
    device = torch.device(<span class="hljs-string">&quot;cuda&quot;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(<span class="hljs-string">&quot;models&quot;</span>):
        os.mkdir(<span class="hljs-string">&quot;models&quot;</span>)
    optimizer = torch.optim.AdamW(model.parameters(), lr=<span class="hljs-number">3e-3</span>, weight_decay=<span class="hljs-number">0.05</span>)
    scheduler = lr_scheduler.SequentialLR(
        optimizer,
        schedulers=[
            lr_scheduler.LinearLR(optimizer, start_factor=<span class="hljs-number">0.1</span>, total_iters=<span class="hljs-number">15</span>),
            lr_scheduler.CosineAnnealingLR(optimizer, T_max=num_epochs-<span class="hljs-number">15</span>, eta_min=<span class="hljs-number">1e-6</span>)
        ],
        milestones=[<span class="hljs-number">15</span>]
    )
    criterion = nn.CrossEntropyLoss(label_smoothing=<span class="hljs-number">0.1</span>).to(device)
    model = model.to(device)
    best_model_wts = copy.deepcopy(model.state_dict())

    best_acc = <span class="hljs-number">0.0</span>
    train_loss_all = []
    val_loss_all = []
    train_acc_all = []
    val_acc_all = []
    learning_rates = []
    since = time.time()

    <span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_epochs):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Epoch &#123;&#125;/&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(epoch, num_epochs - <span class="hljs-number">1</span>))
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span> * <span class="hljs-number">10</span>)

        current_lr = optimizer.param_groups[<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;lr&#x27;</span>]
        learning_rates.append(current_lr)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰å­¦ä¹ ç‡: <span class="hljs-subst">&#123;current_lr:<span class="hljs-number">.6</span>f&#125;</span>&quot;</span>)

        train_loss = <span class="hljs-number">0.0</span>
        train_corrects = <span class="hljs-number">0</span>
        val_loss = <span class="hljs-number">0.0</span>
        val_corrects = <span class="hljs-number">0</span>
        train_num = <span class="hljs-number">0</span>
        val_num = <span class="hljs-number">0</span>

        <span class="hljs-keyword">for</span> step, (b_x, b_y) <span class="hljs-keyword">in</span> tqdm(<span class="hljs-built_in">enumerate</span>(train_dataloader), desc=<span class="hljs-string">f&quot;æ€»æ­¥éª¤ï¼š<span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(train_dataloader)&#125;</span>&quot;</span>,
                                     leave=<span class="hljs-literal">False</span>, unit=<span class="hljs-string">&quot;step&quot;</span>, total=<span class="hljs-built_in">len</span>(train_dataloader),
                                     bar_format=<span class="hljs-string">&quot;&#123;desc&#125;: |&#123;bar:30&#125;| &#123;percentage:3.0f&#125;% æˆ‘åœ¨åŠªåŠ›è®­ç»ƒï¼Œå”±è·³RapğŸ€ï¼ŒMusic~&quot;</span>,
                                     <span class="hljs-built_in">ascii</span>=<span class="hljs-string">&quot;ğŸ€ğŸ¥°ğŸ¥°ğŸ˜˜&quot;</span>):
            b_x = b_x.to(device)
            b_y = b_y.to(device)
            model.train()
            output = model(b_x)
            pre_lab = torch.argmax(output, dim=<span class="hljs-number">1</span>)
            loss = criterion(output, b_y)

            optimizer.zero_grad()
            loss.backward()
            optimizer.step()
            train_loss += loss.item() * b_x.size(<span class="hljs-number">0</span>)
            <span class="hljs-comment"># å¦‚æœé¢„æµ‹æ­£ç¡®ï¼Œåˆ™å‡†ç¡®åº¦train_correctsåŠ 1</span>
            train_corrects += torch.<span class="hljs-built_in">sum</span>(pre_lab == b_y.data)
            train_num += b_x.size(<span class="hljs-number">0</span>)
        <span class="hljs-keyword">for</span> step, (b_x, b_y) <span class="hljs-keyword">in</span> tqdm(<span class="hljs-built_in">enumerate</span>(val_dataloader), desc=<span class="hljs-string">f&quot;æ€»æ­¥éª¤ï¼š<span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(val_dataloader)&#125;</span>&quot;</span>,
                                     leave=<span class="hljs-literal">False</span>, unit=<span class="hljs-string">&quot;step&quot;</span>, total=<span class="hljs-built_in">len</span>(val_dataloader),
                                     bar_format=<span class="hljs-string">&quot;&#123;desc&#125;: |&#123;bar:30&#125;| &#123;percentage:3.0f&#125;% è¯¥æˆ‘ä¸Šåœºè¡¨æ¼”äº†ï¼Œå”±è·³RapğŸ€ï¼ŒMusic~&quot;</span>,
                                     <span class="hljs-built_in">ascii</span>=<span class="hljs-string">&quot;ğŸ€ğŸ¥°ğŸ¥°ğŸ˜˜&quot;</span>):
            b_x = b_x.to(device)
            b_y = b_y.to(device)
            model.<span class="hljs-built_in">eval</span>()
            output = model(b_x)
            pre_lab = torch.argmax(output, dim=<span class="hljs-number">1</span>)
            loss = criterion(output, b_y)

            val_loss += loss.item() * b_x.size(<span class="hljs-number">0</span>)
            val_corrects += torch.<span class="hljs-built_in">sum</span>(pre_lab == b_y.data)
            val_num += b_x.size(<span class="hljs-number">0</span>)

        train_loss_all.append(train_loss / train_num)
        train_acc_all.append(train_corrects.double().item() / train_num)

        val_loss_all.append(val_loss / val_num)
        val_acc_all.append(val_corrects.double().item() / val_num)

        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125; train loss:&#123;:.4f&#125; train acc: &#123;:.4f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(epoch, train_loss_all[-<span class="hljs-number">1</span>], train_acc_all[-<span class="hljs-number">1</span>]))
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125; val loss:&#123;:.4f&#125; val acc: &#123;:.4f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(epoch, val_loss_all[-<span class="hljs-number">1</span>], val_acc_all[-<span class="hljs-number">1</span>]))

        <span class="hljs-keyword">if</span> val_acc_all[-<span class="hljs-number">1</span>] &gt; best_acc:
            best_acc = val_acc_all[-<span class="hljs-number">1</span>]
            best_model_wts = copy.deepcopy(model.state_dict())
            checkpoint = &#123;
                <span class="hljs-string">&#x27;epoch&#x27;</span>: epoch,
                <span class="hljs-string">&#x27;model_state_dict&#x27;</span>: model.state_dict(),
                <span class="hljs-string">&#x27;optimizer_state_dict&#x27;</span>: optimizer.state_dict(),
                <span class="hljs-string">&#x27;scheduler_state_dict&#x27;</span>: scheduler.state_dict(),
                <span class="hljs-string">&#x27;best_acc&#x27;</span>: best_acc,
            &#125;
            torch.save(checkpoint, <span class="hljs-string">&quot;models/best_checkpoint.pth&quot;</span>)

        time_use = time.time() - since
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è®­ç»ƒå’ŒéªŒè¯è€—è´¹çš„æ—¶é—´&#123;:.0f&#125;m&#123;:.0f&#125;s&quot;</span>.<span class="hljs-built_in">format</span>(time_use // <span class="hljs-number">60</span>, time_use % <span class="hljs-number">60</span>))
        scheduler.step()

    model.load_state_dict(best_model_wts)
    torch.save(best_model_wts, <span class="hljs-string">&quot;models/theBest.pth&quot;</span>)

    train_process = pd.DataFrame(data=&#123;<span class="hljs-string">&quot;epoch&quot;</span>: <span class="hljs-built_in">range</span>(num_epochs),
                                       <span class="hljs-string">&quot;train_loss_all&quot;</span>: train_loss_all,
                                       <span class="hljs-string">&quot;val_loss_all&quot;</span>: val_loss_all,
                                       <span class="hljs-string">&quot;train_acc_all&quot;</span>: train_acc_all,
                                       <span class="hljs-string">&quot;val_acc_all&quot;</span>: val_acc_all,
                                       <span class="hljs-string">&quot;learn_rates&quot;</span>: learning_rates&#125;)

    <span class="hljs-keyword">return</span> train_process
</code></pre>
<p>è¿™é‡Œæ˜¯å­¦ä¹ ç‡ä½¿ç”¨0.01ï¼Œå¯ä»¥å¾—åˆ°æ›´å¥½çš„æ•ˆæœï¼Œå­¦ä¹ ç‡ä¸º0.001åœ¨å›¾åƒä¸Šæ›´ç¾è§‚ã€‚</p>
<h3 id="æµ‹è¯•æ­¤å¤„ä¸ºæœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#æµ‹è¯•æ­¤å¤„ä¸ºæœ€ä½³å®è·µ"></a> æµ‹è¯•ï¼ˆæ­¤å¤„ä¸ºæœ€ä½³å®è·µï¼‰</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_model_process</span>(<span class="hljs-params">model, test_dataloader</span>):
    device = <span class="hljs-string">&quot;cuda&quot;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;cpu&#x27;</span>
    model = model.to(device)
    test_corrects = <span class="hljs-number">0.0</span>
    test_num = <span class="hljs-number">0</span>
    <span class="hljs-keyword">with</span> torch.no_grad():
        <span class="hljs-keyword">for</span> test_data_x, test_data_y <span class="hljs-keyword">in</span> test_dataloader:
            test_data_x = test_data_x.to(device)
            test_data_y = test_data_y.to(device)
            model.<span class="hljs-built_in">eval</span>()
            output= model(test_data_x)
            pre_lab = torch.argmax(output, dim=<span class="hljs-number">1</span>)
            test_corrects += torch.<span class="hljs-built_in">sum</span>(pre_lab == test_data_y.data)
            test_num += test_data_x.size(<span class="hljs-number">0</span>)

    test_acc = test_corrects.double().item() / test_num
    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æµ‹è¯•çš„å‡†ç¡®ç‡ä¸ºï¼š&quot;</span>, test_acc)
</code></pre>
<h2 id="alexnetå®æˆ˜"><a class="markdownIt-Anchor" href="#alexnetå®æˆ˜"></a> AlexNetå®æˆ˜</h2>
<pre class="highlight"><code class="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlexNet</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, *args, **kwargs</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-built_in">super</span>().__init__(*args, **kwargs)
        self.block = nn.Sequential(
            nn.Conv2d(in_channels=<span class="hljs-number">1</span>, out_channels=<span class="hljs-number">96</span>, kernel_size=<span class="hljs-number">11</span>, stride=<span class="hljs-number">4</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>),
            nn.Conv2d(in_channels=<span class="hljs-number">96</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">5</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">2</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>),
            nn.Conv2d(in_channels=<span class="hljs-number">256</span>, out_channels=<span class="hljs-number">384</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(in_channels=<span class="hljs-number">384</span>, out_channels=<span class="hljs-number">384</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(in_channels=<span class="hljs-number">384</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>),
            nn.Flatten(),
            nn.Linear(<span class="hljs-number">256</span> * <span class="hljs-number">5</span> * <span class="hljs-number">5</span>, <span class="hljs-number">4096</span>),
            nn.ReLU(),
            nn.Dropout(<span class="hljs-number">0.5</span>),
            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">4096</span>),
            nn.ReLU(),
            nn.Dropout(<span class="hljs-number">0.5</span>),
            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">10</span>)
        )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        x = self.block(x)
        <span class="hljs-keyword">return</span> x
</code></pre>
<p>æ­¤å¤„å¹¶ä¸æ˜¯æ ‡å‡†æ˜¯AlexNetæ¨¡å‹ï¼Œä¸»è¦æ˜¯ä¸ºäº†é€‚é…FashionMNISTã€‚</p>
<pre class="highlight"><code class="python">train_process = train_model_process(AlexNet(), train_dataloader, val_dataloader, num_epochs=<span class="hljs-number">5</span>)
matplot_acc_loss(train_process)
</code></pre>
<p>ç”±äºä¸»åŒ…çš„GPUå®åœ¨æ˜¯å¤ªæ…¢äº†ï¼Œå°±ä¸æ”¾ç»“æœå›¾äº†ã€‚</p>
<h2 id="vggç½‘ç»œåŸç†"><a class="markdownIt-Anchor" href="#vggç½‘ç»œåŸç†"></a> VGGç½‘ç»œåŸç†</h2>
<p>VGGNetæœ‰6ç§ä¸åŒçš„ç»“æ„ï¼Œä¸»è¦ä»¥VGG-16ä¸ºæ ¸å¿ƒæ‹†è§£ã€‚</p>
<img data-src="../../images/CNN_Acc/20.png" alt="1"  />
<p>vgg-blockå†…çš„å·ç§¯å±‚éƒ½æ˜¯åŒç»“æ„çš„ï¼Œæ± åŒ–å±‚éƒ½å¾—ä¸Šä¸€å±‚çš„å·ç§¯å±‚ç‰¹å¾ç¼©å‡ä¸€åŠï¼Œæ·±åº¦è¾ƒæ·±ï¼Œå‚æ•°é‡å¤Ÿå¤§ï¼Œè¾ƒå°çš„filter size/kernel size</p>
<p>VGGå¤§é‡ä½¿ç”¨äº†3 x 3 çš„å·ç§¯æ ¸ï¼Œå‚æ•°å¾ˆå°è€Œä¸”æ•ˆæœè¿˜ä¸é”™ã€‚</p>
<p>è¿˜æœ‰VGGä½¿ç”¨äº†å—çŠ¶ç»“æ„ï¼Œç›¸å½“äºä¸€ä¸ªå°å•å…ƒï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<h3 id="æ¨¡å‹-2"><a class="markdownIt-Anchor" href="#æ¨¡å‹-2"></a> æ¨¡å‹</h3>
<pre class="highlight"><code class="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VGG16</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>(VGG16, self).__init__()
        self.block1 = nn.Sequential(
            nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)
        )
        self.block2 = nn.Sequential(
            nn.Conv2d(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">128</span>, <span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)
        )
        self.block3 = nn.Sequential(
            nn.Conv2d(<span class="hljs-number">128</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">256</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">256</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)
        )
        self.block4 = nn.Sequential(
            nn.Conv2d(<span class="hljs-number">256</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)
        )
        self.block5 = nn.Sequential(
            nn.Conv2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.Conv2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),
            nn.ReLU(),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)
        )
        self.block6 = nn.Sequential(
            nn.Flatten(),
            nn.Linear(<span class="hljs-number">512</span> * <span class="hljs-number">7</span> * <span class="hljs-number">7</span>, <span class="hljs-number">4096</span>),
            nn.ReLU(),
            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">4096</span>),
            nn.ReLU(),
            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">10</span>)
        )
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        x = self.block1(x)
        x = self.block2(x)
        x = self.block3(x)
        x = self.block4(x)
        x = self.block5(x)
        x = self.block6(x)
        <span class="hljs-keyword">return</span> x
</code></pre>
<img data-src="../../images/CNN_Acc/23.png" alt="1"  />
<h2 id="æœ€ä½³å®è·µæƒé‡åˆå§‹åŒ–"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µæƒé‡åˆå§‹åŒ–"></a> æœ€ä½³å®è·µâ€”â€”æƒé‡åˆå§‹åŒ–</h2>
<p>åœ¨æˆ‘ä»¬è®­ç»ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å¯èƒ½ä¸æ”¶æ•›ï¼Œè®­ç»ƒå‡ºæ¥çš„ç»“æœå›¾å¾ˆéš¾çœ‹ï¼Œå®é™…ä¸Šå¤§æ¦‚ç‡å¯èƒ½æ˜¯å‡ºç°äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œæ ¸å¿ƒåŸå› æ˜¯æˆ‘ä»¬çš„æƒé‡åˆå§‹åŒ–è¿‡äºéšæœºäº†ã€‚</p>
<p>ä¸ºä»€ä¹ˆæƒé‡åˆå§‹åŒ–å¦‚æ­¤é‡è¦ï¼Ÿ</p>
<p>åœ¨æ·±åº¦ç¥ç»ç½‘ç»œä¸­ï¼Œæƒé‡åˆå§‹åŒ–ç›´æ¥å½±å“ï¼š</p>
<ul>
<li><strong>æ¿€æ´»å€¼çš„åˆ†å¸ƒ</strong>ï¼ˆå‰å‘ä¼ æ’­ï¼‰</li>
<li><strong>æ¢¯åº¦çš„å¤§å°å’Œç¨³å®šæ€§</strong>ï¼ˆåå‘ä¼ æ’­ï¼‰</li>
<li><strong>æ¨¡å‹æ˜¯å¦æ”¶æ•›ã€æ”¶æ•›é€Ÿåº¦ã€æœ€ç»ˆæ€§èƒ½</strong></li>
</ul>
<p>å¦‚æœæƒé‡åˆå§‹åŒ–ä¸å½“ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æƒé‡å¤ªå° â†’ æ¿€æ´»å€¼è¶‹è¿‘äº0 â†’ <strong>æ¢¯åº¦æ¶ˆå¤±</strong></li>
<li>æƒé‡å¤ªå¤§ â†’ æ¿€æ´»å€¼é¥±å’Œ â†’ <strong>æ¢¯åº¦çˆ†ç‚¸</strong></li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬å¿…é¡»è¦å¼•å…¥<strong>æƒé‡åˆå§‹åŒ–</strong>ï¼</p>
<h3 id="ä½•å‡¯æ˜-å‡¯æ˜åˆå§‹åŒ–æ³•"><a class="markdownIt-Anchor" href="#ä½•å‡¯æ˜-å‡¯æ˜åˆå§‹åŒ–æ³•"></a> ä½•å‡¯æ˜ - å‡¯æ˜åˆå§‹åŒ–æ³•</h3>
<p>å‡¯æ˜åˆå§‹åŒ–æ³•ï¼ˆ<strong>Kaiming Initialization</strong>ï¼‰ï¼Œåˆç§° <strong>He åˆå§‹åŒ–</strong>ï¼Œç”± <strong>ä½•æºæ˜ï¼ˆKaiming Heï¼‰</strong> åœ¨ 2015 å¹´æå‡ºï¼Œä¸“ä¸º <strong>ReLU åŠå…¶å˜ç§ï¼ˆå¦‚ LeakyReLUï¼‰</strong> è®¾è®¡çš„æƒé‡åˆå§‹åŒ–æ–¹æ³•ã€‚</p>
<pre class="highlight"><code class="python"><span class="hljs-keyword">for</span> param <span class="hljs-keyword">in</span> self.modules():
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(param, nn.Conv2d):
        nn.init.kaiming_normal_(param.weight, nonlinearity=<span class="hljs-string">&#x27;relu&#x27;</span>)
        <span class="hljs-keyword">if</span> param.bias <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            nn.init.constant_(param.bias, <span class="hljs-number">0</span>)
</code></pre>
<pre class="highlight"><code class="python"><span class="hljs-keyword">for</span> param <span class="hljs-keyword">in</span> self.modules():
    <span class="hljs-comment"># å·ç§¯å±‚åˆå§‹åŒ–</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(param, nn.Conv2d):
        nn.init.kaiming_normal_(param.weight, nonlinearity=<span class="hljs-string">&#x27;relu&#x27;</span>)
        <span class="hljs-keyword">if</span> param.bias <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            nn.init.constant_(param.bias, <span class="hljs-number">0</span>)
    <span class="hljs-comment"># å…¨è¿æ¥å±‚åˆå§‹åŒ–</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(param, nn.Linear):
        nn.init.normal_(param.weight, <span class="hljs-number">0</span>, <span class="hljs-number">0.01</span>)
        <span class="hljs-keyword">if</span> param.bias <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            nn.init.constant_(param.bias, <span class="hljs-number">0</span>)
</code></pre>
<p>ä»¥ä¸Šå¯ä»¥æ”¾åœ¨ï¼š</p>
<pre class="highlight"><code class="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VGG16_init</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-built_in">super</span>(VGG16, self).__init__()
</code></pre>
<p>åˆå§‹åŒ–å‡½æ•°ä¹‹ä¸‹ã€‚</p>
<h2 id="æœ€ä½³å®è·µè°ƒæ•´æ‰¹æ¬¡"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µè°ƒæ•´æ‰¹æ¬¡"></a> æœ€ä½³å®è·µâ€”â€”è°ƒæ•´æ‰¹æ¬¡</h2>
<p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œ<strong>è°ƒæ•´æ‰¹æ¬¡å¤§å°ï¼ˆBatch Sizeï¼‰</strong> æ˜¯æœ€æœ‰æ•ˆã€æœ€ä½æˆæœ¬çš„æ€§èƒ½è°ƒä¼˜æ‰‹æ®µä¹‹ä¸€ã€‚â€œæœ€ä½³å®è·µâ€ä¸æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œä¹Ÿä¸æ˜¯è¶Šå°è¶Šç²¾ï¼Œè€Œæ˜¯<strong>æ ¹æ®ç¡¬ä»¶ã€ä»»åŠ¡ã€è®­ç»ƒé˜¶æ®µåŠ¨æ€æƒè¡¡</strong>ã€‚</p>
<h2 id="googlenetç½‘ç»œåŸç†"><a class="markdownIt-Anchor" href="#googlenetç½‘ç»œåŸç†"></a> GoogLeNetç½‘ç»œåŸç†</h2>
<img data-src="../../images/CNN_Acc/24.png" alt="1"  />
<p>è¿™é‡Œé¢æœ€å”¬äººçš„åœ°æ–¹å°±æ˜¯è¿™ä¸ªInceptionå—ï¼Œå®é™…ä¸Šæ²¡æœ‰é‚£ä¹ˆå“äººã€‚</p>
<p>ä»¥å‰æµè¡Œçš„ç½‘ç»œä½¿ç”¨å°åˆ°1Ã—1ï¼Œå¤§åˆ°7Ã—7çš„å·ç§¯æ ¸ã€‚ æœ¬æ–‡çš„ä¸€ä¸ªè§‚ç‚¹ï¼šæœ‰æ—¶ä½¿ç”¨ä¸åŒå¤§å°çš„å·ç§¯æ ¸ç»„åˆæ˜¯æœ‰åˆ©çš„ã€‚</p>
<img data-src="../../images/CNN_Acc/25.png" alt="1"  />
<p>é€šé“åˆå¹¶ ï¼šå°†å››ä¸ªè·¯çº¿è¾“å‡ºçš„é€šé“åˆå¹¶ã€‚</p>
<h2 id="1-x-1å·ç§¯çš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#1-x-1å·ç§¯çš„ä¼˜ç‚¹"></a> 1 x 1å·ç§¯çš„ä¼˜ç‚¹</h2>
<p>**åœ¨ä¸æ”¹å˜ç©ºé—´ç»“æ„çš„å‰æä¸‹ï¼Œé«˜æ•ˆåœ°èåˆé€šé“ä¿¡æ¯ã€è°ƒæ•´é€šé“ç»´åº¦ã€å¼•å…¥éçº¿æ€§ï¼Œä»è€Œæå‡æ¨¡å‹è¡¨è¾¾èƒ½åŠ›å¹¶é™ä½è®¡ç®—æˆæœ¬ã€‚**å®ç°è·¨é€šé“çš„äº¤äº’å’Œä¿¡æ¯æ•´åˆï¼Œå·ç§¯æ ¸é€šé“æ•°çš„é™ç»´å’Œå‡ç»´ï¼Œå‡å°‘ç½‘ç»œå‚æ•°ã€‚</p>
<h2 id="å…¨å±€å¹³å‡æ± åŒ–gap"><a class="markdownIt-Anchor" href="#å…¨å±€å¹³å‡æ± åŒ–gap"></a> å…¨å±€å¹³å‡æ± åŒ–GAP</h2>
<p><strong>ä¼˜ç‚¹</strong>ï¼šâ€œ<strong>æ— å‚é™ç»´+æŠ—è¿‡æ‹Ÿåˆ</strong>â€â€”â€”æŠŠç‰¹å¾å›¾å…¨å±€å¹³å‡æˆå•ä¸ªæ•°å€¼ï¼Œç›´æ¥å½“åˆ†ç±» logitsï¼Œçœæ‰å…¨è¿æ¥å±‚ï¼Œå¤§å¹…å‡å°‘å‚æ•°é‡ä¸”å¼ºåˆ¶ä¿ç•™é€šé“çº§è¯­ä¹‰ï¼Œé™ä½è¿‡æ‹Ÿåˆé£é™©ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šâ€œ<strong>ä¸¢ç»†èŠ‚+å¼ºå‡è®¾</strong>â€â€”â€”ç©ºé—´ä¿¡æ¯è¢«å‹æˆä¸€ç‚¹ï¼Œå¯¹ç»†ç²’åº¦ç‰¹å¾æˆ–ç›®æ ‡å®šä½ä»»åŠ¡æ— èƒ½ä¸ºåŠ›ï¼Œå¹¶éšå«â€œé€šé“å³ç±»åˆ«â€çš„å‡è®¾ï¼Œè‹¥ç±»åˆ«é—´ç‰¹å¾é‡å åˆ™æ˜“æ··æ·†ã€‚</p>
<p>æ³¨æ„åŒºåˆ«ï¼šå…¨å±€å¹³å‡æ± åŒ–GAP ä¸ç›´æ¥Flattenå¹³å±•çš„åŒºåˆ«</p>
<h2 id="å¦‚ä½•è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†"><a class="markdownIt-Anchor" href="#å¦‚ä½•è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†"></a> å¦‚ä½•è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†</h2>
<p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œè®¾è®¡ä¸€ä¸ªè‰¯å¥½çš„æ¨¡å‹éœ€è¦åŸºç¡€çŸ¥è¯†ä¸è¿æ°”ï¼Œåœ¨æ­¤åŸºç¡€ä¹‹ä¸Šï¼Œæ•°æ®çš„é¢„å¤„ç†å¾€å¾€æ˜¯æ‹‰å¼€å·®è·çš„å…³é”®ç‚¹ã€‚</p>
<h3 id="æ•°æ®é›†çš„åˆ’åˆ†"><a class="markdownIt-Anchor" href="#æ•°æ®é›†çš„åˆ’åˆ†"></a> æ•°æ®é›†çš„åˆ’åˆ†</h3>
<p>å¦‚ä½•å°†è¿™æ ·çš„æ•°æ®ç›®å½•ï¼š</p>
<pre class="highlight"><code class="bash">data_cat_dog
â”œâ”€â”€ <span class="hljs-built_in">cat</span>
â””â”€â”€ dog
</code></pre>
<p>å˜æˆï¼š</p>
<pre class="highlight"><code class="bash">data
â”œâ”€â”€ train
â”‚   â”œâ”€â”€ <span class="hljs-built_in">cat</span>
â”‚   â””â”€â”€ dog
â””â”€â”€ <span class="hljs-built_in">test</span>
    â”œâ”€â”€ <span class="hljs-built_in">cat</span>
    â””â”€â”€ dog
</code></pre>
<p>æœ‰è¿™æ ·çš„è„šæœ¬ï¼š</p>
<pre class="highlight"><code class="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> shutil <span class="hljs-keyword">import</span> copy
<span class="hljs-keyword">import</span> random


<span class="hljs-keyword">def</span> <span class="hljs-title function_">mkfile</span>(<span class="hljs-params">file</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(file):
        os.makedirs(file)


<span class="hljs-comment"># è·å–dataæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶å¤¹åï¼ˆå³éœ€è¦åˆ†ç±»çš„ç±»åï¼‰</span>
file_path = <span class="hljs-string">&#x27;data_cat_dog&#x27;</span>
flower_class = [cla <span class="hljs-keyword">for</span> cla <span class="hljs-keyword">in</span> os.listdir(file_path)]

<span class="hljs-comment"># åˆ›å»º è®­ç»ƒé›†train æ–‡ä»¶å¤¹ï¼Œå¹¶ç”±ç±»ååœ¨å…¶ç›®å½•ä¸‹åˆ›å»º5ä¸ªå­ç›®å½•</span>
mkfile(<span class="hljs-string">&#x27;data/train&#x27;</span>)
<span class="hljs-keyword">for</span> cla <span class="hljs-keyword">in</span> flower_class:
    mkfile(<span class="hljs-string">&#x27;data/train/&#x27;</span> + cla)

<span class="hljs-comment"># åˆ›å»º éªŒè¯é›†val æ–‡ä»¶å¤¹ï¼Œå¹¶ç”±ç±»ååœ¨å…¶ç›®å½•ä¸‹åˆ›å»ºå­ç›®å½•</span>
mkfile(<span class="hljs-string">&#x27;data/test&#x27;</span>)
<span class="hljs-keyword">for</span> cla <span class="hljs-keyword">in</span> flower_class:
    mkfile(<span class="hljs-string">&#x27;data/test/&#x27;</span> + cla)

<span class="hljs-comment"># åˆ’åˆ†æ¯”ä¾‹ï¼Œè®­ç»ƒé›† : æµ‹è¯•é›† = 9 : 1</span>
split_rate = <span class="hljs-number">0.1</span>

<span class="hljs-comment"># éå†æ‰€æœ‰ç±»åˆ«çš„å…¨éƒ¨å›¾åƒå¹¶æŒ‰æ¯”ä¾‹åˆ†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†</span>
<span class="hljs-keyword">for</span> cla <span class="hljs-keyword">in</span> flower_class:
    cla_path = file_path + <span class="hljs-string">&#x27;/&#x27;</span> + cla + <span class="hljs-string">&#x27;/&#x27;</span>  <span class="hljs-comment"># æŸä¸€ç±»åˆ«çš„å­ç›®å½•</span>
    images = os.listdir(cla_path)  <span class="hljs-comment"># iamges åˆ—è¡¨å­˜å‚¨äº†è¯¥ç›®å½•ä¸‹æ‰€æœ‰å›¾åƒçš„åç§°</span>
    num = <span class="hljs-built_in">len</span>(images)
    eval_index = random.sample(images, k=<span class="hljs-built_in">int</span>(num * split_rate))  <span class="hljs-comment"># ä»imagesåˆ—è¡¨ä¸­éšæœºæŠ½å– k ä¸ªå›¾åƒåç§°</span>
    <span class="hljs-keyword">for</span> index, image <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(images):
        <span class="hljs-comment"># eval_index ä¸­ä¿å­˜éªŒè¯é›†valçš„å›¾åƒåç§°</span>
        <span class="hljs-keyword">if</span> image <span class="hljs-keyword">in</span> eval_index:
            image_path = cla_path + image
            new_path = <span class="hljs-string">&#x27;data/test/&#x27;</span> + cla
            copy(image_path, new_path)  <span class="hljs-comment"># å°†é€‰ä¸­çš„å›¾åƒå¤åˆ¶åˆ°æ–°è·¯å¾„</span>

        <span class="hljs-comment"># å…¶ä½™çš„å›¾åƒä¿å­˜åœ¨è®­ç»ƒé›†trainä¸­</span>
        <span class="hljs-keyword">else</span>:
            image_path = cla_path + image
            new_path = <span class="hljs-string">&#x27;data/train/&#x27;</span> + cla
            copy(image_path, new_path)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\r[&#123;&#125;] processing [&#123;&#125;/&#123;&#125;]&quot;</span>.<span class="hljs-built_in">format</span>(cla, index + <span class="hljs-number">1</span>, num), end=<span class="hljs-string">&quot;&quot;</span>)  <span class="hljs-comment"># processing bar</span>
    <span class="hljs-built_in">print</span>()

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;processing done!&quot;</span>)
</code></pre>
<h3 id="æ•°æ®çš„é¢„å¤„ç†"><a class="markdownIt-Anchor" href="#æ•°æ®çš„é¢„å¤„ç†"></a> æ•°æ®çš„é¢„å¤„ç†</h3>
<h4 id="é‡è°ƒæ•´"><a class="markdownIt-Anchor" href="#é‡è°ƒæ•´"></a> é‡è°ƒæ•´</h4>
<pre class="highlight"><code class="python">transforms.Resize(<span class="hljs-number">160</span>)
</code></pre>
<p>æˆ–</p>
<pre class="highlight"><code class="python">transforms.Resize((<span class="hljs-number">160</span>,<span class="hljs-number">160</span>))
</code></pre>
<p>ç¬¬ä¸€ä¸ªæ˜¯çš„æ¯”ä¾‹è£å‰ªï¼Œç¬¬äºŒä¸ªæ˜¯æŒ‡å®šåƒç´ è£å‰ªï¼Œä»–ä»¬éƒ½æ˜¯é‡è°ƒæ•´ã€‚</p>
<h4 id="éšæœºè£å‰ª"><a class="markdownIt-Anchor" href="#éšæœºè£å‰ª"></a> éšæœºè£å‰ª</h4>
<pre class="highlight"><code class="python">transforms.RandomResizedCrop(<span class="hljs-number">128</span>, scale=(<span class="hljs-number">0.8</span>, <span class="hljs-number">1.0</span>))
</code></pre>
<p>å…ˆéšæœºåœ¨åŸå›¾é‡Œè£å‡ºä¸€å—é¢ç§¯å  80 %â€“100 % çš„åŒºåŸŸï¼Œå†ç›´æ¥ resize æˆ 128Ã—128ï¼Œæ—¢åšäº†éšæœºè£å‰ªåˆåšäº†å°ºåº¦å¢å¼ºã€‚</p>
<h4 id="åŸå§‹æ•°æ®å¢å¼º"><a class="markdownIt-Anchor" href="#åŸå§‹æ•°æ®å¢å¼º"></a> åŸå§‹æ•°æ®å¢å¼º</h4>
<pre class="highlight"><code class="python">transforms.AutoAugment(transforms.AutoAugmentPolicy.IMAGENET),
</code></pre>
<p>è‡ªåŠ¨ä» ImageNet é¢„è®­ç»ƒå¥½çš„ 25 ç§å¢å¼ºç­–ç•¥é‡Œï¼ŒéšæœºæŒ‘ä¸€æ¡å­ç­–ç•¥ï¼ˆå« 5 ç§å¼ºåº¦å¯å˜çš„å›¾åƒå˜æ¢ï¼‰ä½œç”¨åˆ°è¾“å…¥å›¾ä¸Šï¼Œå±äºâ€œè‡ªåŠ¨æ•°æ®å¢å¼ºâ€é‡Œçš„ç»å…¸ç®—æ³•ï¼Œæ— éœ€æ‰‹å·¥è®¾è®¡ç»„åˆã€‚</p>
<ul>
<li>ç­–ç•¥æœç´¢é˜¶æ®µç”¨å¼ºåŒ–å­¦ä¹ åœ¨ ImageNet ä¸Šç¦»çº¿æœå‡º 25 æ¡å­ç­–ç•¥ï¼ˆæ¯æ¡å« 5 ä¸ªå˜æ¢ï¼‰ã€‚</li>
<li>æ¯æ¬¡è®­ç»ƒè¿­ä»£æ—¶ï¼š
<ol>
<li>éšæœºé€‰ä¸€æ¡å­ç­–ç•¥ï¼›</li>
<li>æŒ‰è¯¥å­ç­–ç•¥é‡ŒæŒ‡å®šçš„æ¦‚ç‡ã€å¹…åº¦ä¾æ¬¡å¯¹å›¾åƒåš 5 æ¬¡å˜æ¢ï¼›</li>
<li>å˜æ¢åˆ—è¡¨åŒ…æ‹¬ <code>ShearX/Y</code>, <code>TranslateX/Y</code>, <code>Rotate</code>, <code>Color</code>, <code>Posterize</code>, <code>Solarize</code>, <code>Contrast</code>, <code>Sharpness</code>, <code>Brightness</code>, <code>AutoContrast</code>, <code>Equalize</code> ç­‰ã€‚</li>
</ol>
</li>
</ul>
<h4 id="æ ‡å‡†åŒ–"><a class="markdownIt-Anchor" href="#æ ‡å‡†åŒ–"></a> æ ‡å‡†åŒ–</h4>
<pre class="highlight"><code class="python">transforms.ToTensor()
</code></pre>
<p>æœ¬èº«å°±å…·æœ‰å½’ä¸€åŒ–çš„åŠŸèƒ½ï¼Œä»–å°†æ•°å€¼è½¬åŒ–ä¸º0-1çš„åŒºé—´ï¼Œä½†<strong>è¿™åªæ˜¯â€œçº¿æ€§ç¼©æ”¾â€</strong>ï¼Œä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„â€œæ ‡å‡†åŒ– (normalization)â€ã€‚</p>
<pre class="highlight"><code class="python">transforms.Normalize([<span class="hljs-number">0.485</span>, <span class="hljs-number">0.456</span>, <span class="hljs-number">0.406</span>], [<span class="hljs-number">0.229</span>, <span class="hljs-number">0.224</span>, <span class="hljs-number">0.225</span>])
</code></pre>
<p><strong>è¿™æ‰æ˜¯çœŸæ­£çš„æ ‡å‡†åŒ–</strong>ï¼šæŠŠæ•°å€¼å˜æˆ<strong>å‡å€¼ä¸º 0ã€æ–¹å·®ä¸º 1</strong> çš„åˆ†å¸ƒï¼ŒåŠ é€Ÿæ¨¡å‹æ”¶æ•›ã€‚</p>
<p>æ€ä¹ˆç®—å‘¢ï¼Ÿè¿˜æ˜¯æ¥ä¸€ä¸ªé¢„å¤„ç†ã€‚</p>
<pre class="highlight"><code class="python"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># æ–‡ä»¶å¤¹è·¯å¾„ï¼ŒåŒ…å«æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶</span>
folder_path = <span class="hljs-string">&#x27;data_cat_dog&#x27;</span>

<span class="hljs-comment"># åˆå§‹åŒ–ç´¯ç§¯å˜é‡</span>
total_pixels = <span class="hljs-number">0</span>
sum_normalized_pixel_values = np.zeros(<span class="hljs-number">3</span>)  <span class="hljs-comment"># å¦‚æœæ˜¯RGBå›¾åƒï¼Œéœ€è¦ä¸‰ä¸ªé€šé“çš„å‡å€¼å’Œæ–¹å·®</span>

<span class="hljs-comment"># éå†æ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡æ–‡ä»¶</span>
<span class="hljs-keyword">for</span> root, dirs, files <span class="hljs-keyword">in</span> os.walk(folder_path):
    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> files:
        <span class="hljs-keyword">if</span> filename.endswith((<span class="hljs-string">&#x27;.jpg&#x27;</span>, <span class="hljs-string">&#x27;.jpeg&#x27;</span>, <span class="hljs-string">&#x27;.png&#x27;</span>, <span class="hljs-string">&#x27;.bmp&#x27;</span>)):
            image_path = os.path.join(root, filename)
            image = Image.<span class="hljs-built_in">open</span>(image_path)
            image_array = np.array(image)
            <span class="hljs-comment"># å½’ä¸€åŒ–åƒç´ å€¼åˆ°0-1ä¹‹é—´</span>
            normalized_image_array = image_array / <span class="hljs-number">255.0</span>
            <span class="hljs-comment"># ç´¯ç§¯å½’ä¸€åŒ–åçš„åƒç´ å€¼å’Œåƒç´ æ•°é‡</span>
            total_pixels += normalized_image_array.size
            sum_normalized_pixel_values += np.<span class="hljs-built_in">sum</span>(normalized_image_array, axis=(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>))

<span class="hljs-comment"># è®¡ç®—å‡å€¼å’Œæ–¹å·®</span>
mean = sum_normalized_pixel_values / total_pixels


sum_squared_diff = np.zeros(<span class="hljs-number">3</span>)
<span class="hljs-keyword">for</span> root, dirs, files <span class="hljs-keyword">in</span> os.walk(folder_path):
    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> files:
        <span class="hljs-keyword">if</span> filename.endswith((<span class="hljs-string">&#x27;.jpg&#x27;</span>, <span class="hljs-string">&#x27;.jpeg&#x27;</span>, <span class="hljs-string">&#x27;.png&#x27;</span>, <span class="hljs-string">&#x27;.bmp&#x27;</span>)):
            image_path = os.path.join(root, filename)
            image = Image.<span class="hljs-built_in">open</span>(image_path)
            image_array = np.array(image)
            <span class="hljs-comment"># å½’ä¸€åŒ–åƒç´ å€¼åˆ°0-1ä¹‹é—´</span>
            normalized_image_array = image_array / <span class="hljs-number">255.0</span>
            <span class="hljs-keyword">try</span>:
                diff = (normalized_image_array - mean) ** <span class="hljs-number">2</span>
                sum_squared_diff += np.<span class="hljs-built_in">sum</span>(diff, axis=(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>))
            <span class="hljs-keyword">except</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;æ•è·åˆ°è‡ªå®šä¹‰å¼‚å¸¸&quot;</span>)

variance = sum_squared_diff / total_pixels

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Mean:&quot;</span>, mean)
<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Variance:&quot;</span>, variance)
</code></pre>
<h4 id="éšæœºæ“¦é™¤"><a class="markdownIt-Anchor" href="#éšæœºæ“¦é™¤"></a> éšæœºæ“¦é™¤</h4>
<pre class="highlight"><code class="python">transforms.RandomErasing(p=<span class="hljs-number">0.3</span>, scale=(<span class="hljs-number">0.02</span>, <span class="hljs-number">0.2</span>))
</code></pre>
<p>ä»¥ 30 % çš„æ¦‚ç‡åœ¨å›¾åƒä¸ŠéšæœºæŒ–æ‰ä¸€å—çŸ©å½¢åŒºåŸŸï¼ˆé¢ç§¯å å›¾ 2 %â€“20 %ï¼‰ï¼Œç”¨éšæœºå€¼ï¼ˆç°è‰²ã€ç™½è‰²æˆ–é»‘è‰²ï¼‰å¡«å¹³ï¼Œè¿«ä½¿æ¨¡å‹å­¦ä¼šâ€œé å±€éƒ¨ä¹Ÿèƒ½çŒœå¯¹â€ï¼Œå±äºç®€å•çš„æ­£åˆ™åŒ–/æŠ—é®æŒ¡å¢å¼ºã€‚</p>
<h2 id="resnetåŸç†ä¸å®æˆ˜"><a class="markdownIt-Anchor" href="#resnetåŸç†ä¸å®æˆ˜"></a> ResNetåŸç†ä¸å®æˆ˜</h2>
<img data-src="../../images/CNN_Acc/26.png" alt="1"  />
<h3 id="ç½‘ç»œæŒç»­åŠ æ·±å¸¦æ¥é‚£äº›é—®é¢˜"><a class="markdownIt-Anchor" href="#ç½‘ç»œæŒç»­åŠ æ·±å¸¦æ¥é‚£äº›é—®é¢˜"></a> ç½‘ç»œæŒç»­åŠ æ·±å¸¦æ¥é‚£äº›é—®é¢˜</h3>
<p>ä¸€ã€ä¼˜åŒ–éš¾é¢˜ï¼šç½‘ç»œè¶Šæ·±è¶Šâ€œå­¦ä¸åŠ¨â€</p>
<p>äºŒã€è¡¨è¾¾éš¾é¢˜ï¼šç½‘ç»œè¶Šæ·±è¶Šâ€œè®°ä¸ä½â€</p>
<p>ä¸‰ã€å·¥ç¨‹éš¾é¢˜ï¼šç½‘ç»œè¶Šæ·±è¶Šâ€œå…»ä¸èµ·â€</p>
<p>â€œæ·±â€æœ¬èº«ä¸æ˜¯é”™ï¼Œé”™çš„æ˜¯<strong>æ·±+ Plain å †å </strong>ï¼›ï¼Œ</p>
<blockquote>
<p><strong>Plain Network</strong> = åªæœ‰â€œå·ç§¯â€“BNâ€“ReLUâ€ä¸€è·¯ä¸²è¡Œä¸‹å»ï¼Œ<strong>ä¸å¸¦ä»»ä½•è·³è·ƒè¿æ¥</strong>çš„ç›´ç­’å¼æ¶æ„ã€‚</p>
</blockquote>
<p><strong>â€œé“¾å¼æ±‚å¯¼â€æœ¬èº«å°±æ˜¯æ ¹æº</strong>â€”â€”ä½†è¦æŠŠè¯æ‹†æˆä¸¤å¥è¯´ï¼š</p>
<ol>
<li>é“¾å¼æ±‚å¯¼<strong>å¿…ç„¶å¯¼è‡´</strong>æ·±åº¦ç½‘ç»œé‡Œçš„æ¢¯åº¦æ˜¯â€œè¿ä¹˜â€å½¢å¼ï¼›</li>
<li>è¿ä¹˜çš„å› å­ä¸€æ—¦<strong>æŒç»­å°äº 1</strong>ï¼ˆæˆ–å¤§äº 1ï¼‰ï¼Œå±‚æ•°ä¸€å¤šå°±<strong>æŒ‡æ•°çº§è¡°å‡ / çˆ†ç‚¸</strong>ï¼Œè¿™å°±æ˜¯æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸çš„<strong>æ•°å­¦æœ¬è´¨</strong>ã€‚</li>
</ol>
<p>æ‰€ä»¥ Plain Net çš„é€€åŒ–é—®é¢˜è™½ç„¶<strong>è¡¨ç°å½¢å¼</strong>æ˜¯â€œè¶Šæ·±å±‚è®­ç»ƒè¯¯å·®è¶Šå¤§â€ï¼Œä½†<strong>åº•å±‚æœºåˆ¶</strong>ä»ç„¶ç»•ä¸å¼€é“¾å¼æ±‚å¯¼å¸¦æ¥çš„æ•°å€¼ä¸ç¨³å®šã€‚<br />
ResNet çš„ skip connection æ­£æ˜¯äººä¸ºåœ¨é“¾å¼ä¹˜ç§¯é‡Œ<strong>æ’è¿›ä¸€é¡¹ 1</strong>ï¼ŒæŠŠâ€œè¿ä¹˜â€æ”¹å†™æˆâ€œè¿ä¹˜ + 1â€ï¼Œä»è€Œæ‰“æ–­æŒ‡æ•°è¡°å‡â€”â€”<strong>ç”¨åŠ æ³•ç»™é“¾å¼æ³•åˆ™æ‰“äº†ä¸€ä¸ªè¡¥ä¸</strong>ã€‚</p>
<h3 id="æ®‹å·®å—"><a class="markdownIt-Anchor" href="#æ®‹å·®å—"></a> æ®‹å·®å—</h3>
<p>ResNetï¼ˆResidual Networkï¼‰çš„æ ¸å¿ƒåˆ›æ–°å°±æ˜¯<strong>æ®‹å·®è¿æ¥</strong>ï¼ˆResidual Connectionï¼‰ï¼Œå®ƒè§£å†³äº†æ·±å±‚ç½‘ç»œçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä½¿å¾—è®­ç»ƒéå¸¸æ·±çš„ç½‘ç»œæˆä¸ºå¯èƒ½ã€‚</p>
<p>æ®‹å·®å—çš„è®¾è®¡æ˜¯æ·±åº¦å­¦ä¹ é¢†åŸŸçš„é‡å¤§çªç ´ï¼Œå®ƒä¸ä»…åœ¨å›¾åƒè¯†åˆ«ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ï¼Œè¿˜è¢«å¹¿æ³›åº”ç”¨äºå„ç§æ·±åº¦å­¦ä¹ æ¶æ„ä¸­ã€‚a = h(x) + x</p>
<img data-src="../../images/CNN_Acc/27.png" alt="1"  />
<p>ä¸Šå›¾æœ‰ä¸€ä¸ªé”™è¯¯ï¼Œå¡«å……åº”è¯¥æ˜¯0ï¼Œæ­¥å¹…æ˜¯1ã€‚</p>
<h3 id="batch-normalizationå½’ä¸€åŒ–"><a class="markdownIt-Anchor" href="#batch-normalizationå½’ä¸€åŒ–"></a> Batch Normalizationå½’ä¸€åŒ–</h3>
<p><strong>Batch Normalizationï¼ˆæ‰¹å½’ä¸€åŒ–ï¼Œç®€ç§°BNï¼‰</strong> çš„ç›®çš„æ˜¯ <strong>è®©ç¥ç»ç½‘ç»œè®­ç»ƒæ›´å¿«ã€æ›´ç¨³å®šã€æ›´å®¹æ˜“æ”¶æ•›ã€‚</strong></p>
<img data-src="../../images/CNN_Acc/28.png" alt="1"  />
<p>BatchNorm ä¸æ˜¯â€œé”¦ä¸Šæ·»èŠ±â€ï¼Œè€Œæ˜¯â€œæ·±åº¦ç½‘ç»œèƒ½è®­å¾—åŠ¨â€çš„åˆšéœ€â€”â€”å®ƒæŠŠæ¯å±‚çš„è¾“å…¥åˆ†å¸ƒå¼ºè¡Œæ‹‰å› N(0,1)ï¼Œåˆ‡æ–­æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸ä¸å†…éƒ¨åå˜é‡åç§»çš„æ¶æ€§å¾ªç¯ï¼Œè®©é“¾å¼æ±‚å¯¼çš„è¿ä¹˜å› å­å§‹ç»ˆè½åœ¨ 1 é™„è¿‘ï¼Œäºæ˜¯éå¸¸æ·±çš„ Plain/ResNet æ‰åƒå¾—ä¸‹å¤§å­¦ä¹ ç‡ã€å¿«é€Ÿæ”¶æ•›ä¸”ä¸ç”¨ç‰¹åˆ«ç²¾è°ƒåˆå§‹åŒ–ã€‚</p>
<p>BNçš„è§£å†³æ–¹æ¡ˆéå¸¸ç›´è§‚æœ‰åŠ›ï¼š<strong>æ—¢ç„¶å±‚è¾“å…¥çš„åˆ†å¸ƒè€åœ¨å˜ï¼Œé‚£æˆ‘ä»¬å°±å¼ºåˆ¶æŠŠå®ƒæ‹‰å›ä¸€ä¸ªç¨³å®šã€æ ‡å‡†çš„åˆ†å¸ƒã€‚</strong></p>
<p>BNçš„ä½ç½®é€šå¸¸æ”¾åœ¨ï¼š</p>
<pre class="highlight"><code class="bash">å…¨è¿æ¥å±‚/å·ç§¯å±‚ â†’ BatchNorm â†’ æ¿€æ´»å‡½æ•°(ReLUç­‰)
</code></pre>
<h3 id="resnetçš„åŸºæœ¬å®ç°"><a class="markdownIt-Anchor" href="#resnetçš„åŸºæœ¬å®ç°"></a> ResNetçš„åŸºæœ¬å®ç°</h3>
<h4 id="æ®‹å·®å—-2"><a class="markdownIt-Anchor" href="#æ®‹å·®å—-2"></a> æ®‹å·®å—</h4>
<pre class="highlight"><code class="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResidualBlock</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, in_channels, out_channels, use_conv1x1=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-built_in">super</span>(ResidualBlock).__init__()
        self.RelU = nn.ReLU(inplace=<span class="hljs-literal">True</span>)
        self.conv1 = nn.Conv2d(in_channels=in_channels, out_channels=out_channels, kernel_size=<span class="hljs-number">3</span>, stride=stride,
                               padding=<span class="hljs-number">1</span>)
        self.conv2 = nn.Conv2d(in_channels=out_channels, out_channels=out_channels, kernel_size=<span class="hljs-number">3</span>, stride=stride,
                               padding=<span class="hljs-number">1</span>)
        self.BN1 = nn.BatchNorm2d(out_channels)
        self.BN2 = nn.BatchNorm2d(out_channels)
        <span class="hljs-keyword">if</span> use_conv1x1:
            self.conv3 = nn.Conv2d(in_channels=in_channels, out_channels=out_channels, kernel_size=stride,
                                   stride=stride, padding=<span class="hljs-number">0</span>)
        <span class="hljs-keyword">else</span>:
            self.conv3 = <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        y = self.RelU(self.BN1(self.conv1(x)))
        y = self.BN2(self.conv2(y))
        <span class="hljs-keyword">if</span> self.conv3 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            x = self.conv3(x)
        y = self.RelU(y + x)
        <span class="hljs-keyword">return</span> y
</code></pre>
<h4 id="resnet18"><a class="markdownIt-Anchor" href="#resnet18"></a> ResNet18</h4>
<pre class="highlight"><code class="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResNet18</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ResidualBlock</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-built_in">super</span>(ResNet18, self).__init__()
        self.b1 = nn.Sequential(
            nn.Conv2d(in_channels=<span class="hljs-number">1</span>, out_channels=<span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">7</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">3</span>),
            nn.BatchNorm2d(<span class="hljs-number">64</span>),
            nn.ReLU(inplace=<span class="hljs-literal">True</span>),
            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>)
        )
        self.b2 = nn.Sequential(
            ResidualBlock(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, use_conv1x1=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>),
            ResidualBlock(<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, use_conv1x1=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>)
        )
        self.b3 = nn.Sequential(
            ResidualBlock(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, use_conv1x1=<span class="hljs-literal">True</span>, stride=<span class="hljs-number">2</span>),
            ResidualBlock(<span class="hljs-number">128</span>, <span class="hljs-number">128</span>, use_conv1x1=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>)
        )
        self.b4 = nn.Sequential(
            ResidualBlock(<span class="hljs-number">128</span>, <span class="hljs-number">256</span>, use_conv1x1=<span class="hljs-literal">True</span>, stride=<span class="hljs-number">2</span>),
            ResidualBlock(<span class="hljs-number">256</span>, <span class="hljs-number">256</span>, use_conv1x1=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>)
        )
        self.b5 = nn.Sequential(
            ResidualBlock(<span class="hljs-number">256</span>, <span class="hljs-number">512</span>, use_conv1x1=<span class="hljs-literal">True</span>, stride=<span class="hljs-number">2</span>),
            ResidualBlock(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, use_conv1x1=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>)
        )
        self.b6 = nn.Sequential(
            nn.AdaptiveAvgPool2d((<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)),
            nn.Flatten(),
            nn.Linear(<span class="hljs-number">512</span>, <span class="hljs-number">10</span>)
        )
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        x = self.b1(x)
        x = self.b2(x)
        x = self.b3(x)
        x = self.b4(x)
        x = self.b5(x)
        x = self.b6(x)
        <span class="hljs-keyword">return</span> x
</code></pre>

      <div class="tags">
          <a href="/tags/python/" rel="tag"><i class="ic i-tag"></i> python</a>
          <a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag"><i class="ic i-tag"></i> æ·±åº¦å­¦ä¹ </a>
          <a href="/tags/CNN/" rel="tag"><i class="ic i-tag"></i> CNN</a>
      </div>
  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">æ›´æ–°äº</span>
    <time title="ä¿®æ”¹æ—¶é—´ï¼š2026-02-03 00:18:34" itemprop="dateModified" datetime="2026-02-03T00:18:34+08:00">2026-02-03</time>
  </span>
  <span id="python/CNN_Acc/" class="item leancloud_visitors" data-flag-title="CNNç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜" title="é˜…è¯»æ¬¡æ•°">
      <span class="icon">
        <i class="ic i-eye"></i>
      </span>
      <span class="text">é˜…è¯»æ¬¡æ•°</span>
      <span class="leancloud-visitors-count"></span>
      <span class="text">æ¬¡</span>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> èµèµ</button>
  <p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p>
  <div id="qr">
      
      <div>
        <img data-src="/images/myWxPay.jpg" alt="KarryLiu å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
      
      <div>
        <img data-src="/images/myAliPay.jpg" alt="KarryLiu æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>KarryLiu <i class="ic i-at"><em>@</em></i>è¯—å²¸æ¢¦è¡ŒèˆŸ
  </li>
  <li class="link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://735690757.github.io/python/CNN_Acc/" title="CNNç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜">https://735690757.github.io/python/CNN_Acc/</a>
  </li>
  <li class="license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/Java/DubboStart/" itemprop="url" rel="prev" data-background-image="&#x2F;images&#x2F;cover&#x2F;dubbo.png" title="Dubboå¿«é€Ÿå…¥é—¨">
  <span class="type">ä¸Šä¸€ç¯‡</span>
  <span class="category"><i class="ic i-flag"></i> å¾®æœåŠ¡ç›¸å…³</span>
  <h3>Dubboå¿«é€Ÿå…¥é—¨</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/python/NLP/" itemprop="url" rel="next" data-background-image="&#x2F;images&#x2F;cover&#x2F;rnn.jpg" title="NLPè‡ªç„¶è¯­è¨€å¤„ç†">
  <span class="type">ä¸‹ä¸€ç¯‡</span>
  <span class="category"><i class="ic i-flag"></i> æ·±åº¦å­¦ä¹ åŸºç¡€</span>
  <h3>NLPè‡ªç„¶è¯­è¨€å¤„ç†</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•">
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C"><span class="toc-number">1.</span> <span class="toc-text"> å·ç§¯ç¥ç»ç½‘ç»œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#cnn%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%AE%97%E6%B3%95%E5%8E%9F%E7%90%86"><span class="toc-number">1.1.</span> <span class="toc-text"> CNNå·ç§¯ç¥ç»ç½‘ç»œç®—æ³•åŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E8%BF%9E%E6%8E%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C"><span class="toc-number">1.1.1.</span> <span class="toc-text"> å…¨è¿æ¥ç¥ç»ç½‘ç»œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.2.</span> <span class="toc-text"> ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¿€æ´»å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sigmoid%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.3.</span> <span class="toc-text"> Sigmoidæ¿€æ´»å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tanh%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.4.</span> <span class="toc-text"> Tanhæ¿€æ´»å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#relu%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.5.</span> <span class="toc-text"> ReLUæ¿€æ´»å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#leaky-relu%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.6.</span> <span class="toc-text"> Leaky ReLUæ¿€æ´»å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E5%90%91%E4%BC%A0%E6%92%AD"><span class="toc-number">1.1.7.</span> <span class="toc-text"> å‰å‘ä¼ æ’­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.8.</span> <span class="toc-text"> æŸå¤±å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9D%87%E6%96%B9%E8%AF%AF%E5%B7%AE"><span class="toc-number">1.1.8.1.</span> <span class="toc-text"> å‡æ–¹è¯¯å·®</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95"><span class="toc-number">1.1.9.</span> <span class="toc-text"> æ¢¯åº¦ä¸‹é™æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E8%BF%9E%E6%8E%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9C%A8%E5%9B%BE%E7%89%87%E4%B8%AD%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.2.</span> <span class="toc-text"> å…¨è¿æ¥ç¥ç»ç½‘ç»œåœ¨å›¾ç‰‡ä¸­å­˜åœ¨çš„é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%82%E6%95%B0%E9%87%8F%E5%B7%A8%E5%A4%A7"><span class="toc-number">1.2.1.</span> <span class="toc-text"> 1. å‚æ•°é‡å·¨å¤§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BF%BD%E7%95%A5%E7%A9%BA%E9%97%B4%E7%BB%93%E6%9E%84"><span class="toc-number">1.2.2.</span> <span class="toc-text"> 2. å¿½ç•¥ç©ºé—´ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BC%BA%E4%B9%8F%E5%B9%B3%E7%A7%BB%E4%B8%8D%E5%8F%98%E6%80%A7"><span class="toc-number">1.2.3.</span> <span class="toc-text"> 3. ç¼ºä¹å¹³ç§»ä¸å˜æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%AE%A1%E7%AE%97%E6%95%88%E7%8E%87%E4%BD%8E"><span class="toc-number">1.2.4.</span> <span class="toc-text"> 4. è®¡ç®—æ•ˆç‡ä½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%B8%8D%E9%80%82%E5%90%88%E6%8D%95%E6%8D%89%E5%B1%82%E6%AC%A1%E7%89%B9%E5%BE%81"><span class="toc-number">1.2.5.</span> <span class="toc-text"> 5. ä¸é€‚åˆæ•æ‰å±‚æ¬¡ç‰¹å¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%B7%E7%A7%AF-%E6%AD%A5%E5%B9%85-%E5%A1%AB%E5%85%85-%E6%B1%A0%E5%8C%96"><span class="toc-number">1.3.</span> <span class="toc-text"> å·ç§¯ã€æ­¥å¹…ã€å¡«å……ã€æ± åŒ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%8F%E8%BF%87%E5%8D%B7%E7%A7%AF%E5%90%8E%E7%89%B9%E5%BE%81%E5%9B%BE%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.4.</span> <span class="toc-text"> ç»è¿‡å·ç§¯åç‰¹å¾å›¾å¤§å°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lenet%E4%B8%8Ealexnet%E5%8E%9F%E7%90%86"><span class="toc-number">1.5.</span> <span class="toc-text"> LeNetä¸AlexNetåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#lenet-5%E8%AF%9E%E7%94%9F%E8%83%8C%E6%99%AF"><span class="toc-number">1.5.1.</span> <span class="toc-text"> LeNet-5è¯ç”ŸèƒŒæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lenet-5%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.2.</span> <span class="toc-text"> LeNet-5ç½‘ç»œç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#alexnet%E8%AF%9E%E7%94%9F%E8%83%8C%E6%99%AF"><span class="toc-number">1.5.3.</span> <span class="toc-text"> AlexNetè¯ç”ŸèƒŒæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#alexnet%E7%BD%91%E7%BB%9C%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.4.</span> <span class="toc-text"> AlexNetç½‘ç»œç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA-%E6%B0%B4%E5%B9%B3%E7%BF%BB%E8%BD%AC"><span class="toc-number">1.5.5.</span> <span class="toc-text"> å›¾åƒå¢å¼º - æ°´å¹³ç¿»è½¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA-%E9%9A%8F%E6%9C%BA%E8%A3%81%E5%89%AA"><span class="toc-number">1.5.6.</span> <span class="toc-text"> å›¾åƒå¢å¼º - éšæœºè£å‰ª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA-pca"><span class="toc-number">1.5.7.</span> <span class="toc-text"> å›¾åƒå¢å¼º - PCA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lrn%E6%AD%A3%E5%88%99%E5%8C%96"><span class="toc-number">1.5.8.</span> <span class="toc-text"> LRNæ­£åˆ™åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%8F%A0%E6%B1%A0%E5%8C%96"><span class="toc-number">1.5.9.</span> <span class="toc-text"> é‡å æ± åŒ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lenet%E5%AE%9E%E6%88%98"><span class="toc-number">1.6.</span> <span class="toc-text"> LeNetå®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.1.</span> <span class="toc-text"> æ¨¡å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%A4%87-%E5%AE%9E%E4%BE%8B%E5%8C%96%E4%B8%8Esummary"><span class="toc-number">1.6.2.</span> <span class="toc-text"> è®¾å¤‡ã€å®ä¾‹åŒ–ä¸summary</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD-fashionmnist"><span class="toc-number">1.6.3.</span> <span class="toc-text"> åŠ è½½ FashionMNIST</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%95%E7%A4%BA"><span class="toc-number">1.6.4.</span> <span class="toc-text"> å±•ç¤º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%AD%E7%BB%83-%E9%AA%8C%E8%AF%81%E6%AD%A4%E5%A4%84%E4%B8%BA%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.6.5.</span> <span class="toc-text"> è®­ç»ƒã€éªŒè¯ï¼ˆæ­¤å¤„ä¸ºæœ€ä½³å®è·µï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%99%E9%87%8C%E6%98%AF%E4%BC%98%E5%8C%96%E5%90%8E%E7%9A%84%E7%89%88%E6%9C%AC"><span class="toc-number">1.6.6.</span> <span class="toc-text"> è¿™é‡Œæ˜¯ä¼˜åŒ–åçš„ç‰ˆæœ¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E6%AD%A4%E5%A4%84%E4%B8%BA%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.6.7.</span> <span class="toc-text"> æµ‹è¯•ï¼ˆæ­¤å¤„ä¸ºæœ€ä½³å®è·µï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#alexnet%E5%AE%9E%E6%88%98"><span class="toc-number">1.7.</span> <span class="toc-text"> AlexNetå®æˆ˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vgg%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.8.</span> <span class="toc-text"> VGGç½‘ç»œåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B-2"><span class="toc-number">1.8.1.</span> <span class="toc-text"> æ¨¡å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%9D%83%E9%87%8D%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.9.</span> <span class="toc-text"> æœ€ä½³å®è·µâ€”â€”æƒé‡åˆå§‹åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%95%E5%87%AF%E6%98%8E-%E5%87%AF%E6%98%8E%E5%88%9D%E5%A7%8B%E5%8C%96%E6%B3%95"><span class="toc-number">1.9.1.</span> <span class="toc-text"> ä½•å‡¯æ˜ - å‡¯æ˜åˆå§‹åŒ–æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E8%B0%83%E6%95%B4%E6%89%B9%E6%AC%A1"><span class="toc-number">1.10.</span> <span class="toc-text"> æœ€ä½³å®è·µâ€”â€”è°ƒæ•´æ‰¹æ¬¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#googlenet%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86"><span class="toc-number">1.11.</span> <span class="toc-text"> GoogLeNetç½‘ç»œåŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-x-1%E5%8D%B7%E7%A7%AF%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">1.12.</span> <span class="toc-text"> 1 x 1å·ç§¯çš„ä¼˜ç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%B9%B3%E5%9D%87%E6%B1%A0%E5%8C%96gap"><span class="toc-number">1.13.</span> <span class="toc-text"> å…¨å±€å¹³å‡æ± åŒ–GAP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%AE%AD%E7%BB%83%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.14.</span> <span class="toc-text"> å¦‚ä½•è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%88%92%E5%88%86"><span class="toc-number">1.14.1.</span> <span class="toc-text"> æ•°æ®é›†çš„åˆ’åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A2%84%E5%A4%84%E7%90%86"><span class="toc-number">1.14.2.</span> <span class="toc-text"> æ•°æ®çš„é¢„å¤„ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E8%B0%83%E6%95%B4"><span class="toc-number">1.14.2.1.</span> <span class="toc-text"> é‡è°ƒæ•´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E8%A3%81%E5%89%AA"><span class="toc-number">1.14.2.2.</span> <span class="toc-text"> éšæœºè£å‰ª</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%BC%BA"><span class="toc-number">1.14.2.3.</span> <span class="toc-text"> åŸå§‹æ•°æ®å¢å¼º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8C%96"><span class="toc-number">1.14.2.4.</span> <span class="toc-text"> æ ‡å‡†åŒ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E6%93%A6%E9%99%A4"><span class="toc-number">1.14.2.5.</span> <span class="toc-text"> éšæœºæ“¦é™¤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#resnet%E5%8E%9F%E7%90%86%E4%B8%8E%E5%AE%9E%E6%88%98"><span class="toc-number">1.15.</span> <span class="toc-text"> ResNetåŸç†ä¸å®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%8C%81%E7%BB%AD%E5%8A%A0%E6%B7%B1%E5%B8%A6%E6%9D%A5%E9%82%A3%E4%BA%9B%E9%97%AE%E9%A2%98"><span class="toc-number">1.15.1.</span> <span class="toc-text"> ç½‘ç»œæŒç»­åŠ æ·±å¸¦æ¥é‚£äº›é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AE%8B%E5%B7%AE%E5%9D%97"><span class="toc-number">1.15.2.</span> <span class="toc-text"> æ®‹å·®å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#batch-normalization%E5%BD%92%E4%B8%80%E5%8C%96"><span class="toc-number">1.15.3.</span> <span class="toc-text"> Batch Normalizationå½’ä¸€åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#resnet%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.15.4.</span> <span class="toc-text"> ResNetçš„åŸºæœ¬å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AE%8B%E5%B7%AE%E5%9D%97-2"><span class="toc-number">1.15.4.1.</span> <span class="toc-text"> æ®‹å·®å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#resnet18"><span class="toc-number">1.15.4.2.</span> <span class="toc-text"> ResNet18</span></a></li></ol></li></ol></li></ol></li></ol>
      </div>
      <div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« ">
        <ul>
          <li><a href="/python/numpy/" rel="bookmark" title="NumPyæ ¸å¿ƒå¤„ç†æ–¹æ³•">NumPyæ ¸å¿ƒå¤„ç†æ–¹æ³•</a></li><li><a href="/python/pandas/" rel="bookmark" title="Pandasæ ¸å¿ƒå¤„ç†æ–¹æ³•">Pandasæ ¸å¿ƒå¤„ç†æ–¹æ³•</a></li><li><a href="/python/pytorch/" rel="bookmark" title="PyTorchæ·±åº¦å­¦ä¹ ">PyTorchæ·±åº¦å­¦ä¹ </a></li><li class="active"><a href="/python/CNN_Acc/" rel="bookmark" title="CNNç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜">CNNç»å…¸å·ç§¯ç¥ç»ç½‘ç»œä¸å®æˆ˜</a></li><li><a href="/python/NLP/" rel="bookmark" title="NLPè‡ªç„¶è¯­è¨€å¤„ç†">NLPè‡ªç„¶è¯­è¨€å¤„ç†</a></li><li><a href="/python/DLFromFormula/" rel="bookmark" title="ä»å…¬å¼è§’åº¦çœ‹æ·±åº¦å­¦ä¹ ">ä»å…¬å¼è§’åº¦çœ‹æ·±åº¦å­¦ä¹ </a></li><li><a href="/python/Transformer/" rel="bookmark" title="Transformerå®æˆ˜">Transformerå®æˆ˜</a></li><li><a href="/python/Harris/" rel="bookmark" title="Harriså…´è¶£ç‚¹æ£€æµ‹">Harriså…´è¶£ç‚¹æ£€æµ‹</a></li><li><a href="/python/YOLO/evaluation_indicators/" rel="bookmark" title="æ¨¡å‹è¯„ä»·æŒ‡æ ‡">æ¨¡å‹è¯„ä»·æŒ‡æ ‡</a></li><li><a href="/python/ss/" rel="bookmark" title="è¯­ä¹‰åˆ†å‰²">è¯­ä¹‰åˆ†å‰²</a></li>
        </ul>
      </div>
      <div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="KarryLiu"
      data-src="/images/tx.jpg">
  <p class="name" itemprop="name">KarryLiu</p>
  <div class="description" itemprop="description">æ„¿ä¸–é—´æ‰€æœ‰çš„ç¾å¥½éƒ½å¾—ä»¥ç¥æ„¿</div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">57</span>
        <span class="name">æ–‡ç« </span>
      </a>
    </div>
    <div class="item categories">
      <a href="/categories/">
        <span class="count">28</span>
        <span class="name">åˆ†ç±»</span>
      </a>
    </div>
    <div class="item tags">
      <a href="/tags/">
        <span class="count">51</span>
        <span class="name">æ ‡ç­¾</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tLzczNTY5MDc1Nw==" title="https:&#x2F;&#x2F;github.com&#x2F;735690757"><i class="ic i-github"></i></span>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS92b0FMUXRkYWNCVE00RVk=" title="https:&#x2F;&#x2F;twitter.com&#x2F;voALQtdacBTM4EY"><i class="ic i-twitter"></i></span>
      <span class="exturl item email" data-url="bWFpbHRvOjczNTY5MDc1N0BxcS5jb20=" title="mailto:735690757@qq.com"><i class="ic i-envelope"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9ydW8tcWlhbi15aW5n" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;ruo-qian-ying"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTM1Nzc1OTIzOA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;357759238"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS9rYXJyeWxpdQ==" title="https:&#x2F;&#x2F;about.me&#x2F;karryliu"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a>
  </li>

    
  <li class="item">
    <a href="/about/" rel="section"><i class="ic i-user"></i>å…³äº</a>
  </li>

        
  <li class="item dropdown">
      <a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a>
    <ul class="submenu">

        
  <li class="item">
    <a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a>
  </li>

        
  <li class="item">
    <a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a>
  </li>

        
  <li class="item">
    <a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a>
  </li>

  </ul>
    
  <li class="item">
    <a href="/music" rel="section"><i class="ic i-music"></i>æ©˜å­å›-Ruxra</a>
  </li>

    
  <li class="item">
    <span class="exturl" data-url="aHR0cHM6Ly93d3cudHJhdmVsbGluZ3MuY24vZ28uaHRtbA=="><i class="ic i-paper-plane"></i>å¼€å¾€</span>
  </li>

    
  <li class="item">
    <a href="/friends/" rel="section"><i class="ic i-heart"></i>å‹é“¾</a>
  </li>

    
  <li class="item">
    <a href="/ocfy" rel="section"><i class="ic i-magic"></i>OCFY</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/Java/DubboStart/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/python/NLP/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>éšæœºæ–‡ç« </h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/python/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ ">æ·±åº¦å­¦ä¹ </a>
<i class="ic i-angle-right"></i>
<a href="/categories/python/%E9%A1%B9%E7%9B%AE%E4%B8%8E%E5%AE%9E%E6%88%98/" title="åˆ†ç±»äº é¡¹ç›®ä¸å®æˆ˜">é¡¹ç›®ä¸å®æˆ˜</a>
</div>

    <span><a href="/python/pytorch_nn_digital_identification/" title="åŸºäºPyTorchçš„æ‰‹å†™æ•°å­—è¯†åˆ«">åŸºäºPyTorchçš„æ‰‹å†™æ•°å­—è¯†åˆ«</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/python/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ ">æ·±åº¦å­¦ä¹ </a>
<i class="ic i-angle-right"></i>
<a href="/categories/python/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ åŸºç¡€">æ·±åº¦å­¦ä¹ åŸºç¡€</a>
</div>

    <span><a href="/python/NLP/" title="NLPè‡ªç„¶è¯­è¨€å¤„ç†">NLPè‡ªç„¶è¯­è¨€å¤„ç†</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/python/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ ">æ·±åº¦å­¦ä¹ </a>
<i class="ic i-angle-right"></i>
<a href="/categories/python/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ åŸºç¡€">æ·±åº¦å­¦ä¹ åŸºç¡€</a>
</div>

    <span><a href="/python/Harris/" title="Harriså…´è¶£ç‚¹æ£€æµ‹">Harriså…´è¶£ç‚¹æ£€æµ‹</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/%E7%94%9F%E6%B4%BB/" title="åˆ†ç±»äº ç”Ÿæ´»">ç”Ÿæ´»</a>
</div>

    <span><a href="/life/p2025/" title="å›æœ›2025â€”â€”æ°¸ä¸ç†„ç­ä¹‹å…‰">å›æœ›2025â€”â€”æ°¸ä¸ç†„ç­ä¹‹å…‰</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/notebook/" title="åˆ†ç±»äº ç¬”è®°">ç¬”è®°</a>
<i class="ic i-angle-right"></i>
<a href="/categories/notebook/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0/" title="åˆ†ç±»äº æ•°æ®ç»“æ„ç¬”è®°">æ•°æ®ç»“æ„ç¬”è®°</a>
</div>

    <span><a href="/DSLearnNote/codeTM/" title="æ•°æ®ç»“æ„ä»£ç é¢˜é€Ÿè®°">æ•°æ®ç»“æ„ä»£ç é¢˜é€Ÿè®°</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Operate-system/" title="åˆ†ç±»äº æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</a>
</div>

    <span><a href="/Operate-system/KnowledgeSummary/" title="æ“ä½œç³»ç»Ÿç»†ç¢çŸ¥è¯†ç‚¹åŠå…¬å¼é€Ÿè®°">æ“ä½œç³»ç»Ÿç»†ç¢çŸ¥è¯†ç‚¹åŠå…¬å¼é€Ÿè®°</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/python/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ ">æ·±åº¦å­¦ä¹ </a>
<i class="ic i-angle-right"></i>
<a href="/categories/python/YOLO/" title="åˆ†ç±»äº YOLO">YOLO</a>
</div>

    <span><a href="/python/YOLO/index/" title="YOLOç³»åˆ—">YOLOç³»åˆ—</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Operate-system/" title="åˆ†ç±»äº æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</a>
</div>

    <span><a href="/Operate-system/os_retest/" title="è®¡ç®—æœºæ“ä½œç³»ç»Ÿå¤è¯•é€Ÿè§ˆ">è®¡ç®—æœºæ“ä½œç³»ç»Ÿå¤è¯•é€Ÿè§ˆ</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/Operate-system/" title="åˆ†ç±»äº æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</a>
</div>

    <span><a href="/Operate-system/01OS/" title="æ“ä½œç³»ç»ŸçŸ¥è¯†ç‚¹é˜¶æ®µæ€»ç»“">æ“ä½œç³»ç»ŸçŸ¥è¯†ç‚¹é˜¶æ®µæ€»ç»“</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
<a href="/categories/python/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ ">æ·±åº¦å­¦ä¹ </a>
<i class="ic i-angle-right"></i>
<a href="/categories/python/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº æ·±åº¦å­¦ä¹ åŸºç¡€">æ·±åº¦å­¦ä¹ åŸºç¡€</a>
</div>

    <span><a href="/python/numpy/" title="NumPyæ ¸å¿ƒå¤„ç†æ–¹æ³•">NumPyæ ¸å¿ƒå¤„ç†æ–¹æ³•</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>æœ€æ–°è¯„è®º</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 â€“ 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">KarryLiu @ KarryLiu</span>
  </div>
  <div class="powered-by">
    <a href="https://icp.gov.moe/?keyword=20249329" target="_blank">èŒICPå¤‡20249329å·</a>
    åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  <br/><span>ä¸–ç•Œæœ¬æ±¡æµŠï¼Œç½ªä¸çˆ±åŒæ­Œ</span>
  <br/><i class="ic i-chart-area"></i>&nbsp;<span>549k&nbsp;å­—</span> &nbsp;|&nbsp;
  <i class="ic i-coffee"></i>&nbsp;<span> 15:15</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: 'python/CNN_Acc/',
    favicon: {
      show: "ï¼ˆâ—Â´3ï½€â—ï¼‰å˜¿å˜¿å˜¿....",
      hide: "(Â´Ğ”ï½€)ä¸çœ‹æˆ‘æ˜¯å§ï¼"
    },
    search : {
      placeholder: "æ–‡ç« æœç´¢",
      empty: "å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",
      stats: "${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"
    },
    valine: true,fancybox: true,
    copyright: 'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<!-- <script src="https://cdn.polyfill.io/v2/polyfill.js"></script>  -->

<script src="https://polyfill-js.cn/v3/polyfill.min.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
